{"ast":null,"code":"import React from'react';import Sidebar from\"./Components/Sidebar\";import{useParams,useNavigate}from\"react-router-dom\";import{useState,useEffect}from'react';import axios from'axios';import Helpers from\"../../Config/Helpers\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ModelUpdate(){const{modeleId}=useParams();const[templateDetails,setTemplateDetails]=useState({name:\"\",// Set initial state as an empty string instead of undefined or null\nslug:\"\"});const navigate=useNavigate();useEffect(()=>{const fetchTemplateDetails=async()=>{const baseUrl=Helpers.apiUrl;const token=localStorage.getItem(\"token\");try{const response=await axios.get(\"\".concat(baseUrl,\"collects/\").concat(modeleId),{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});const data=response.data.data;console.log(response.data);setTemplateDetails({name:data.name||\"\",slug:data.slug||\"\"});}catch(error){console.error(\"Failed to fetch template details\",error);}};fetchTemplateDetails();},[modeleId]);const handleChange=e=>{const{name,value}=e.target;setTemplateDetails(prevState=>({...prevState,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();const baseUrl=Helpers.apiUrl;const token=localStorage.getItem(\"token\");try{const response=await axios.put(\"\".concat(baseUrl,\"collects/\").concat(modeleId),templateDetails,{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});if(response.status===200||response.status===204){Helpers.toast(\"success\",'Collection updated successfully');// navigate('/admin/models'); // Update with actual path\nwindow.location.reload();}}catch(error){console.error(\"Failed to update template\",error);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nk-main\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"nk-wrap\",children:/*#__PURE__*/_jsx(\"div\",{class:\"nk-content\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container-xl\",children:/*#__PURE__*/_jsx(\"div\",{class:\"nk-content-inner\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"nk-content-body\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"nk-block-head nk-page-head\",children:/*#__PURE__*/_jsx(\"div\",{class:\"nk-block-head-between\",children:/*#__PURE__*/_jsx(\"div\",{class:\"nk-block-head-content\",children:/*#__PURE__*/_jsx(\"h2\",{class:\"display-6\",children:\"Update Collection\"})})})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{class:\"card shadown-none\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row g-3 gx-gs\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInputText2\",class:\"form-label\",children:\"Update Name\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-control-wrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"exampleFormControlInputText2\",placeholder:\"Enter Name\",name:\"name\",value:templateDetails.name,onChange:handleChange})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleFormControlInputText1\",class:\"form-label\",children:\"Update Slug\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-control-wrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"exampleFormControlInputText1\",placeholder:\"Enter Slug\",name:\"slug\",value:templateDetails.slug,onChange:handleChange})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",style:{marginTop:\"2%\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"form-control-wrap\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn \",type:\"submit\",style:{background:\"#3F3EED\",color:\"white\"},children:\"Update\"})})})})]})})})})]})})})})})]})});}export default ModelUpdate;","map":{"version":3,"names":["React","Sidebar","useParams","useNavigate","useState","useEffect","axios","Helpers","jsx","_jsx","jsxs","_jsxs","ModelUpdate","modeleId","templateDetails","setTemplateDetails","name","slug","navigate","fetchTemplateDetails","baseUrl","apiUrl","token","localStorage","getItem","response","get","concat","headers","Accept","Authorization","data","console","log","error","handleChange","e","value","target","prevState","handleSubmit","preventDefault","put","status","toast","window","location","reload","children","className","class","onSubmit","for","type","id","placeholder","onChange","style","marginTop","background","color"],"sources":["D:/Shahid Zafar/Rolex/frontend-rolex/src/Pages/Admin/ModelUpdate.jsx"],"sourcesContent":["import React from 'react'\r\nimport Sidebar from \"./Components/Sidebar\";\r\nimport { useParams,useNavigate  } from \"react-router-dom\";\r\nimport  { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Helpers from \"../../Config/Helpers\";\r\nfunction ModelUpdate() {\r\n    const { modeleId } = useParams();\r\n    const [templateDetails, setTemplateDetails] = useState({\r\n        name: \"\", // Set initial state as an empty string instead of undefined or null\r\n        slug: \"\",\r\n      });\r\n    const navigate = useNavigate();\r\n  \r\n    useEffect(() => {\r\n        const fetchTemplateDetails = async () => {\r\n            const baseUrl = Helpers.apiUrl;\r\n            const token = localStorage.getItem(\"token\");\r\n            try {\r\n              const response = await axios.get(`${baseUrl}collects/${modeleId}`, {\r\n                headers: {\r\n                  Accept: \"application/json\",\r\n                  \"Content-Type\": \"application/json\",\r\n                  Authorization: `Bearer ${token}`,\r\n                },\r\n              });\r\n              const data = response.data.data;\r\n              console.log(response.data)\r\n              setTemplateDetails({\r\n                name: data.name || \"\",\r\n                slug: data.slug || \"\",\r\n              });\r\n            } catch (error) {\r\n              console.error(\"Failed to fetch template details\", error);\r\n            }\r\n          };\r\n          \r\n  \r\n      fetchTemplateDetails();\r\n    }, [modeleId]);\r\n  \r\n    const handleChange = (e) => {\r\n      const { name, value } = e.target;\r\n      setTemplateDetails((prevState) => ({\r\n        ...prevState,\r\n        [name]: value,\r\n      }));\r\n    };\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      const baseUrl = Helpers.apiUrl;\r\n      const token = localStorage.getItem(\"token\");\r\n      try {\r\n        const response = await axios.put(`${baseUrl}collects/${modeleId}`, templateDetails, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        if (response.status === 200 || response.status === 204) {\r\n          Helpers.toast(\"success\",'Collection updated successfully');\r\n          // navigate('/admin/models'); // Update with actual path\r\n          window.location.reload();\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to update template\", error);\r\n      }\r\n    };\r\n  return (\r\n    <div>\r\n      <div className=\"nk-main\">\r\n        <Sidebar />\r\n        <div className=\"nk-wrap\">\r\n          <div class=\"nk-content\">\r\n            <div class=\"container-xl\">\r\n              <div class=\"nk-content-inner\">\r\n                <div class=\"nk-content-body\">\r\n                  <div class=\"nk-block-head nk-page-head\">\r\n                    <div class=\"nk-block-head-between\">\r\n                      <div class=\"nk-block-head-content\">\r\n                        <h2 class=\"display-6\">Update Collection</h2>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <form onSubmit={handleSubmit}>\r\n                    <div class=\"card shadown-none\">\r\n                      <div class=\"card-body\">\r\n                        <div class=\"row g-3 gx-gs\">\r\n                          <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                              <label\r\n                                for=\"exampleFormControlInputText2\"\r\n                                class=\"form-label\"\r\n                              >\r\n                                Update Name\r\n                              </label>\r\n                              <div class=\"form-control-wrap\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  class=\"form-control\"\r\n                                  id=\"exampleFormControlInputText2\"\r\n                                  placeholder=\"Enter Name\"\r\n                                  name=\"name\"\r\n                                  value={templateDetails.name}\r\n                                  onChange={handleChange}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                              <label\r\n                                for=\"exampleFormControlInputText1\"\r\n                                class=\"form-label\"\r\n                              >\r\n                                Update Slug\r\n                              </label>\r\n                              <div class=\"form-control-wrap\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  class=\"form-control\"\r\n                                  id=\"exampleFormControlInputText1\"\r\n                                  placeholder=\"Enter Slug\"\r\n                                  name=\"slug\"\r\n                                  value={templateDetails.slug}\r\n                                  onChange={handleChange}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class=\"col-md-6\">\r\n                            <div\r\n                              className=\"form-group\"\r\n                              style={{ marginTop: \"2%\" }}\r\n                            >\r\n                              <div className=\"form-control-wrap\">\r\n                                <button\r\n                                  className=\"btn \"\r\n                                  type=\"submit\"\r\n                                  style={{background:\"#3F3EED\",color:\"white\"}}\r\n                                >\r\n                                  Update \r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModelUpdate"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}