{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import Helpers from'../../../Config/Helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GoogleLoginComponent=()=>{const[isGoogle,setIsGoogle]=useState(null);const[userNotFound,setUserNotFound]=useState(false);const[isLoading,setIsLoading]=useState(false);const fetchDetail=async()=>{setIsLoading(true);try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"refreshEmails\"),Helpers.authHeaders);if(response.status===200&&response.data.data){setIsGoogle(response.data.data);setUserNotFound(false);console.log(response.data);}else{setIsGoogle(null);setUserNotFound(true);}}catch(error){if(error.response&&error.response.status===404){// Handle user not found\nsetUserNotFound(true);setIsGoogle(null);}else{// Handle other errors\nconsole.error(\"Error fetching details:\",error);}}finally{setIsLoading(false);window.location.href='/user/dashboard';}};const loginWithGoogle=async()=>{await fetchDetail();// Fetch data when the button is clicked\nwindow.location.href='/user/dashboard';// Correct way to navigate\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-wrapper rounded p-3 border border-gray-300 ml-2 \".concat(isLoading?'cursor-not-allowed':'cursor-pointer'),style:{cursor:isLoading?'not-allowed':'pointer'},title:\"Connect With Gmail\",onClick:!isLoading?loginWithGoogle:null,disabled:isLoading,children:isLoading?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-spinner fa-spin\",style:{fontSize:\"15px\",color:\"#AEAEAE\"}}):/*#__PURE__*/_jsx(\"i\",{className:\"fa-light fa-refresh\",style:{fontSize:\"15px\",color:\"#AEAEAE\"}})}),userNotFound&&/*#__PURE__*/_jsx(\"div\",{children:\"User not found\"})]});};export default GoogleLoginComponent;","map":{"version":3,"names":["React","useState","axios","Helpers","jsx","_jsx","jsxs","_jsxs","GoogleLoginComponent","isGoogle","setIsGoogle","userNotFound","setUserNotFound","isLoading","setIsLoading","fetchDetail","response","get","concat","apiUrl","authHeaders","status","data","console","log","error","window","location","href","loginWithGoogle","children","className","style","cursor","title","onClick","disabled","fontSize","color"],"sources":["D:/Shahid Zafar/Rolex/frontend-rolex/src/Pages/Admin/Components/GoogleLoginComponent.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Helpers from '../../../Config/Helpers';\r\n\r\nconst GoogleLoginComponent = () => {\r\n  const [isGoogle, setIsGoogle] = useState(null);\r\n  const [userNotFound, setUserNotFound] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const fetchDetail = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}refreshEmails`, Helpers.authHeaders);\r\n      if (response.status === 200 && response.data.data) {\r\n        setIsGoogle(response.data.data);\r\n        setUserNotFound(false);\r\n        console.log(response.data);\r\n      } else {\r\n        setIsGoogle(null);\r\n        setUserNotFound(true);\r\n      }\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 404) {\r\n        // Handle user not found\r\n        setUserNotFound(true);\r\n        setIsGoogle(null);\r\n      } else {\r\n        // Handle other errors\r\n        console.error(\"Error fetching details:\", error);\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n      window.location.href = '/user/dashboard'; \r\n    }\r\n  };\r\n\r\n  const loginWithGoogle = async () => {\r\n    await fetchDetail(); // Fetch data when the button is clicked\r\n    window.location.href = '/user/dashboard'; // Correct way to navigate\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={`icon-wrapper rounded p-3 border border-gray-300 ml-2 ${isLoading ? 'cursor-not-allowed' : 'cursor-pointer'}`}\r\n        style={{\r\n          cursor: isLoading ? 'not-allowed' : 'pointer',\r\n        }}\r\n        title=\"Connect With Gmail\"\r\n        onClick={!isLoading ? loginWithGoogle : null}\r\n        disabled={isLoading}\r\n      >\r\n        {isLoading ? (\r\n          <i\r\n            className=\"fa fa-spinner fa-spin\"\r\n            style={{ fontSize: \"15px\", color: \"#AEAEAE\" }}\r\n          ></i>\r\n        ) : (\r\n          <i\r\n            className=\"fa-light fa-refresh\"\r\n            style={{ fontSize: \"15px\", color: \"#AEAEAE\" }}\r\n          ></i>\r\n        )}\r\n      </div>\r\n      \r\n      {userNotFound && <div>User not found</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoogleLoginComponent;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACU,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAc,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9BD,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,IAAAC,MAAA,CAAIf,OAAO,CAACgB,MAAM,kBAAiBhB,OAAO,CAACiB,WAAW,CAAC,CACvF,GAAIJ,QAAQ,CAACK,MAAM,GAAK,GAAG,EAAIL,QAAQ,CAACM,IAAI,CAACA,IAAI,CAAE,CACjDZ,WAAW,CAACM,QAAQ,CAACM,IAAI,CAACA,IAAI,CAAC,CAC/BV,eAAe,CAAC,KAAK,CAAC,CACtBW,OAAO,CAACC,GAAG,CAACR,QAAQ,CAACM,IAAI,CAAC,CAC5B,CAAC,IAAM,CACLZ,WAAW,CAAC,IAAI,CAAC,CACjBE,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAE,MAAOa,KAAK,CAAE,CACd,GAAIA,KAAK,CAACT,QAAQ,EAAIS,KAAK,CAACT,QAAQ,CAACK,MAAM,GAAK,GAAG,CAAE,CACnD;AACAT,eAAe,CAAC,IAAI,CAAC,CACrBF,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACL;AACAa,OAAO,CAACE,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,OAAS,CACRX,YAAY,CAAC,KAAK,CAAC,CACnBY,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,iBAAiB,CAC1C,CACF,CAAC,CAED,KAAM,CAAAC,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,KAAM,CAAAd,WAAW,CAAC,CAAC,CAAE;AACrBW,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,iBAAiB,CAAE;AAC5C,CAAC,CAED,mBACErB,KAAA,QAAAuB,QAAA,eACEzB,IAAA,QACE0B,SAAS,yDAAAb,MAAA,CAA0DL,SAAS,CAAG,oBAAoB,CAAG,gBAAgB,CAAG,CACzHmB,KAAK,CAAE,CACLC,MAAM,CAAEpB,SAAS,CAAG,aAAa,CAAG,SACtC,CAAE,CACFqB,KAAK,CAAC,oBAAoB,CAC1BC,OAAO,CAAE,CAACtB,SAAS,CAAGgB,eAAe,CAAG,IAAK,CAC7CO,QAAQ,CAAEvB,SAAU,CAAAiB,QAAA,CAEnBjB,SAAS,cACRR,IAAA,MACE0B,SAAS,CAAC,uBAAuB,CACjCC,KAAK,CAAE,CAAEK,QAAQ,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAC5C,CAAC,cAELjC,IAAA,MACE0B,SAAS,CAAC,qBAAqB,CAC/BC,KAAK,CAAE,CAAEK,QAAQ,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAC5C,CACL,CACE,CAAC,CAEL3B,YAAY,eAAIN,IAAA,QAAAyB,QAAA,CAAK,gBAAc,CAAK,CAAC,EACvC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}