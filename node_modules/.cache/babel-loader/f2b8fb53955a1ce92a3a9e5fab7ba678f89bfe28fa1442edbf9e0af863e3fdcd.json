{"ast":null,"code":"var _jsxFileName = \"D:\\\\Shahid Zafar\\\\Rolex\\\\frontend-rolex\\\\src\\\\Pages\\\\User\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Sidebar from \"./../../Components/Sidebar\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport Helpers from \"./../../Config/Helpers\";\nimport axios from \"axios\";\nimport Select from \"react-select\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport GoogleLoginComponent from \"../Admin/Components/GoogleLoginComponent\";\nimport GoogleLoginButton from \"../Admin/Components/GoogleLoginButton\";\nimport Loader from \"../Admin/Components/Loader\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  useEffect(() => {\n    document.title = \"Home - Crownsync AI\";\n    return () => {\n      document.title = \"Crownsync Ai\";\n    };\n  }, []);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [mails, setMails] = useState([]);\n  const [isGoogle, setIsGoogle] = useState(null);\n  const [userNotFound, setUserNotFound] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const userJson = localStorage.getItem(\"user\");\n  const user = JSON.parse(userJson);\n  const userEmail = user ? user.email : null;\n  const [emailData, setEmailData] = useState(null);\n  let {\n    messageId\n  } = useParams();\n  useEffect(() => {\n    // const asyncOperations = [\n    //     new Promise((resolve) => setTimeout(resolve, 1000)), // Example async operation 1\n    //     new Promise((resolve) => setTimeout(resolve, 2000)), // Example async operation 2\n    //     new Promise((resolve) => setTimeout(resolve, 3000)), // Example async operation 3\n    // ];\n\n    // Promise.all(asyncOperations)\n    //     .then(() => {\n    //         setLoading(false);\n    //         Helpers.toast(\"success\", \"Page is ready now\");\n    //     });\n  }, []);\n  const url = Helpers.apiUrl;\n  const handleLoginSuccess = response => {\n    // alert(response);\n    // console.log('Login Response:', response);\n  };\n  useEffect(() => {\n    const fetchDetail = async () => {\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}check-login`, Helpers.authHeaders);\n        if (response.status === 200 && response.data.data) {\n          setIsGoogle(response.data.data);\n          setUserNotFound(false);\n        } else {\n          setIsGoogle(null);\n          setUserNotFound(true);\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 404) {\n          // Handle user not found\n          setUserNotFound(true);\n          setIsGoogle(null);\n        } else {\n          // Handle other errors\n          console.error(\"Error fetching details:\", error);\n        }\n      }\n    };\n    fetchDetail();\n  }, []);\n  const loginWithGoogle = () => {\n    // Retrieve the user data from localStorage\n    const userString = localStorage.getItem('user');\n\n    // Parse it into an object, if the data is not null\n    let user = null;\n    if (userString) {\n      try {\n        user = JSON.parse(userString);\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n      }\n    }\n\n    // Access and log the user id\n    if (user && user.id) {\n      console.log('User ID:', user.id);\n    } else {\n      console.log('User data is missing or does not contain an id.');\n    }\n    const userId = localStorage.getItem('user_id'); // Retrieve the stored user ID\n    const backendURL = Helpers.backendUrl;\n    window.location.href = `${backendURL}auth/redirect?userId=${user.id}`; // Pass only the user ID\n  };\n  const fetchData = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`${Helpers.apiUrl}email-messages`, Helpers.authHeaders);\n      if (response.status === 200) {\n        const emails = response.data.data.map(email => {\n          try {\n            // Assuming email.detail is a JSON string that needs parsing\n            return {\n              ...email,\n              detail: JSON.parse(email.detail)\n            };\n          } catch (e) {\n            console.error(\"Failed to parse email detail for email with ID:\", email.id);\n            return {\n              ...email,\n              detail: {}\n            }; // Provide empty detail in case of parsing failure\n          }\n        });\n        setMails(emails);\n        setAssignSuccess(false);\n      } else {\n        console.log(\"Received non-200 response:\", response.status);\n      }\n    } catch (error) {\n      console.error(\"An error occurred:\", error);\n      if (error.response && error.response.status === 401) {\n        setIsAuthenticated(false); // Assuming you meant to set false here\n      } else {\n        setIsAuthenticated(true); // You can decide the correct logic\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // useEffect to call fetchData on component mount\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}email-messages`, Helpers.authHeaders);\n        if (response.status === 200) {\n          console.log('mail data comes', response.data);\n          const emails = response.data.data.map(email => {\n            try {\n              // Assuming email.detail is a JSON string that needs parsing\n              return {\n                ...email,\n                detail: JSON.parse(email.detail)\n              };\n            } catch (e) {\n              console.error(\"Failed to parse email detail for email with ID:\", email.id, e);\n              return {\n                ...email,\n                detail: {}\n              }; // Provide empty detail in case of parsing failure\n            }\n          });\n          const emailMessage = emails.find(email => email.detail.headers && email.detail.headers[\"Message-ID\"] === messageId);\n          console.log('message id down', messageId);\n          if (emailMessage) {\n            setEmailData(emailMessage);\n            // console.log(\"Email data:\", emailMessage);\n          } else {\n            console.log(\"Email with messageId not found.\");\n          }\n        } else {\n          console.log(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n        // Handle error\n        if (error.response) {\n          // Server responded with a status code outside 2xx range\n          console.error(\"Error data:\", error.response.data);\n          console.error(\"Error status:\", error.response.status);\n        } else if (error.request) {\n          // No response was received to the request\n          console.error(\"No response received:\", error.request);\n        } else {\n          // An error occurred in setting up the request\n          console.error(\"Error message:\", error.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [messageId]); // Fetch data whenever messageId changes\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplateId, setSelectedTemplateId] = useState(null);\n  const [finalTemplate, setFinalTemplate] = useState(\"\");\n  const handleTemplateChange = event => {\n    setLocationId(\"\");\n    setSelectedTemplateId(event.target.value);\n  };\n  const handleFinalTemplateChange = event => {\n    setFinalTemplate(event.target.value);\n  };\n  const [products, setProducts] = useState([]);\n  const [locations, setLocations] = useState([]);\n  useEffect(() => {\n    const fetchLocations = async () => {\n      setIsLoading(true);\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}fetch-locations`, Helpers.authHeaders);\n        if (response.status === 200 && Array.isArray(response.data.data)) {\n          // console.log('location data',response.data.data);\n          setLocations(response.data.data);\n        } else {\n          console.error(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchLocations();\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}rolex_models`, Helpers.authHeaders);\n        if (response.status === 200 && Array.isArray(response.data.data)) {\n          setProducts(response.data.data);\n        } else {\n          console.error(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  //location\n\n  const [collections, setCollections] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [selectedCollectionId, setSelectedCollectionId] = useState(\"\");\n  const [selectedProductId, setSelectedProductId] = useState(\"\");\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  // For passing store Id\n  const [storeId, setStoreId] = useState(\"\");\n  const handleStoreButton = store => {\n    setStoreId(store);\n  };\n  const [stores, setStores] = useState([]);\n  // For passing location Id\n  const [locationId, setLocationId] = useState(\"\");\n  const handleLocationButton = location => {\n    setLocationId(location);\n  };\n  useEffect(() => {\n    if (locationId !== \"\" || storeId !== \"\") {\n      updateTemplate();\n    }\n  }, [locationId, storeId]);\n  useEffect(() => {\n    const fetchCollections = async () => {\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}collects`, Helpers.authHeaders);\n        if (response.status === 200) {\n          setCollections(response.data.data);\n        } else {\n          console.error(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n        handleAPIError(error);\n      }\n    };\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}rolex_models`, Helpers.authHeaders);\n        if (response.status === 200) {\n          setAllProducts(response.data.data);\n        } else {\n          console.error(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n        handleAPIError(error);\n      }\n    };\n    fetchCollections();\n    fetchProducts();\n  }, []);\n  useEffect(() => {\n    if (selectedCollectionId) {\n      const filtered = allProducts.filter(product => String(product.collection_id) === String(selectedCollectionId));\n      setFilteredProducts(filtered);\n    } else {\n      setFilteredProducts([]);\n    }\n  }, [selectedCollectionId, allProducts]);\n  const handleSelectionChange = event => {\n    setSelectedCollectionId(event.target.value);\n    setSelectedProductId(\"\"); // Reset the product selection\n  };\n  const handleProductChange = event => {\n    const newProductId = event.target.value;\n    setSelectedProductId(newProductId);\n    const product = filteredProducts.find(p => String(p.id) === String(newProductId));\n    setSelectedProduct(product);\n  };\n  const handleAPIError = error => {\n    if (error.response) {\n      console.error(\"Error data:\", error.response.data);\n      console.error(\"Error status:\", error.response.status);\n    } else if (error.request) {\n      console.error(\"No response received:\", error.request);\n    } else {\n      console.error(\"Error message:\", error.message);\n    }\n  };\n  useEffect(() => {\n    const filtered = allProducts.filter(product => {\n      const productCollectionId = String(product.collection_id);\n      const isSelectedCollectionId = String(selectedCollectionId);\n      return productCollectionId === isSelectedCollectionId;\n    });\n\n    // console.log(\"Filtered Products:\", filtered);\n    setFilteredProducts(filtered);\n  }, [selectedCollectionId, allProducts]);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  useEffect(() => {\n    // This effect keeps the selectedProduct state in sync with the selectedProductId state\n    if (selectedProductId !== \"\") {\n      const product = filteredProducts.find(p => String(p.id) === String(selectedProductId));\n      setSelectedProduct(product);\n    } else {\n      setSelectedProduct(null);\n    }\n  }, [selectedProductId, filteredProducts]);\n  const getTemplates = async () => {\n    const response = await axios.get(`${Helpers.apiUrl}admin/mail_templates`, Helpers.authHeaders);\n    if (response.status === 200) {\n      setTemplates(response.data.data);\n      // console.log('my templates',response.data.data);\n    }\n  };\n  const updateTemplate = () => {\n    if (selectedTemplateId) {\n      var _emailData$detail$hea;\n      const templateToUpdate = templates.find(temp => temp.id === parseInt(selectedTemplateId));\n      if (!templateToUpdate) {\n        console.error('Template with the given ID was not found.');\n        return;\n      }\n      const username = localStorage.getItem(\"user\");\n      const user = JSON.parse(username);\n      const userName = user ? user.name : \"\";\n      const replacements = {\n        'MyName': userName || \"\",\n        'ClientName': ((_emailData$detail$hea = emailData.detail.headers[\"From\"].match(/^(.*?)\\s*<(.*)>$/)) === null || _emailData$detail$hea === void 0 ? void 0 : _emailData$detail$hea[1]) || \"\",\n        'Model': (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.name) || \"\",\n        'Price': (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.price) || \"\",\n        'Stock': (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.stock) || \"\",\n        'Link': (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.link) || \"\",\n        'Features': (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.features) || \"\",\n        // 'Store': selectedProduct?.store || \"\",\n        'Store': storeId || \"\",\n        // 'Location': selectedProduct?.location || \"\",\n        'Location': locationId || \"\",\n        'Benefits': (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.benefits) || \"\",\n        'MyEmail': (isGoogle === null || isGoogle === void 0 ? void 0 : isGoogle.contact) || \"\",\n        'MyPhone': (profile === null || profile === void 0 ? void 0 : profile.phone) || \"\",\n        'Address': (profile === null || profile === void 0 ? void 0 : profile.address) || \"\",\n        'Collection': selectedProduct !== null && selectedProduct !== void 0 && selectedProduct.collection_id ? selectedProduct.collection_name : \"\",\n        'Image': selectedProduct !== null && selectedProduct !== void 0 && selectedProduct.image ? `<img src=\"${selectedProduct.image}\" alt=\"${selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.name}\" style=\"max-width: 100%; height: 200px; align-items: center; text-align: center; display: flex; justify-content: center; />` : \"\"\n      };\n\n      // Apply replacements, replacing placeholders with empty strings for empty fields\n      let updatedTemplate = templateToUpdate.heading;\n      for (const [key, value] of Object.entries(replacements)) {\n        if (value !== \"\") {\n          // Only replace placeholders with actual values\n          updatedTemplate = updatedTemplate.replace(new RegExp(`\\\\[${key}\\\\]`, 'gi'), value);\n        } else {\n          // If the value is empty, replace the placeholder with an empty string\n          updatedTemplate = updatedTemplate.replace(new RegExp(`\\\\[${key}\\\\]`, 'gi'), '');\n        }\n      }\n      setFinalTemplate(updatedTemplate);\n    }\n  };\n  useEffect(() => {\n    updateTemplate();\n  }, [selectedProductId, emailData, selectedTemplateId, selectedCollectionId]);\n  useEffect(() => {\n    getTemplates();\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      // console.log(\"Called\");\n      const username = localStorage.getItem(\"user\");\n      const user = JSON.parse(username);\n      const userName = user ? user.name : \"Customer\";\n      setIsLoading(true);\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}admin/mail_templates`, Helpers.authHeaders);\n        const modelName = selectedProduct && selectedProduct.name ? selectedProduct.name : \"[]\";\n        const modelPrice = selectedProduct && selectedProduct.price ? selectedProduct.price : \"[]\";\n        const modelStock = selectedProduct && selectedProduct.stock ? selectedProduct.stock : \"[]\";\n        const modelLink = selectedProduct && selectedProduct.link ? selectedProduct.link : \"[]\";\n        const modelFeature = selectedProduct && selectedProduct.features ? selectedProduct.features : \"[]\";\n        const modelStore = selectedProduct && selectedProduct.store ? selectedProduct.store : \"[]\";\n        const modelLocation = selectedProduct && selectedProduct.location ? selectedProduct.location : \"[]\";\n        const modelBenefit = selectedProduct && selectedProduct.benefits ? selectedProduct.benefits : \"[]\";\n        const mycollection = selectedProduct && selectedProduct.collection_id ? selectedProduct.collection_name : \"[]\";\n        // console.log(\"asdfcxe\", mycollection);\n        const imageHtml = selectedProduct && selectedProduct.image ? `<img src=\"${Helpers.basePath}/assets/${selectedProduct.image}\" alt=\"${selectedProduct.name}\" style=\"max-width: 100%; height: 200px; align-items: center;text-align:center;display:flex;justify-content:center;margin-left:10%\" />` : \"[]\";\n        const fromField = emailData.detail.headers[\"From\"];\n        const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\n        const reciever_name = match ? match[1] : \"\";\n        const sender_email = isGoogle ? isGoogle.contact : \"\";\n        const sender_phone = profile ? profile.phone : \"\";\n        const sender_address = profile ? profile.address : \"\";\n        if (response.status === 200) {\n          const modifiedTemplates = response.data.data.map(template => {\n            const greetingUpdated = template.heading.replace(/\\[SenderName\\]/gi, userName).replace(/\\[ReceiverName\\]/gi, reciever_name).replace(/\\[Model\\]/gi, modelName).replace(/\\[Price\\]/gi, modelPrice).replace(/\\[Stock\\]/gi, modelStock).replace(/\\[Link\\]/gi, modelLink).replace(/\\[Features\\]/gi, modelFeature).replace(/\\[Store\\]/gi, modelStore).replace(/\\[Location\\]/gi, modelLocation).replace(/\\[Benefits\\]/gi, modelBenefit).replace(/\\[SenderEmail\\]/gi, sender_email).replace(/\\[SenderPhone\\]/gi, sender_phone).replace(/\\[SenderAddress\\]/gi, sender_address).replace(/\\[Collection\\]/gi, mycollection).replace(/\\[Image\\]/gi, imageHtml);\n            return {\n              ...template,\n              heading: greetingUpdated\n            };\n          });\n          setTemplates(modifiedTemplates);\n        } else {\n          // console.log(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    // fetchData();\n  }, [selectedProductId, emailData, selectedTemplateId, selectedCollectionId]);\n\n  // For passing data in email preview section\n  const [selectedGreetingText, setSelectedGreetingText] = useState(\"\");\n  const handleGreetingButton = greetingText => {\n    setSelectedGreetingText(greetingText);\n    console.log(greetingText); // Now this directly logs the greetings text\n  };\n  const [stock, setStock] = useState(\"\");\n  const handleStockChange = status => {\n    setStock(status);\n    // console.log(stock);\n  };\n  // console.log(\"SELECTED MAIL\", emailData);\n  const [showPreview, setShowPreview] = useState(false); // New state for toggling the preview\n  const handleProceed = () => {\n    // Toggle the visibility of the email preview section\n    setShowPreview(true);\n    // console.log(showPreview);\n  };\n  const [resposne, setResponse] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const username = localStorage.getItem(\"user\");\n    const user = JSON.parse(username);\n    const myuser = user ? user.name : null;\n    const myemail = user ? user.email : null;\n    const fromField = emailData.detail.headers[\"From\"];\n    const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\n    const reciever_name = match ? match[1] : \"\"; // This would be \"GitHub\"\n    // console.log(reciever_name);\n    const reciever_email = match ? match[2] : fromField;\n    // console.log(reciever_email);\n    const payload = {\n      email_address: myemail,\n      greeting: selectedGreetingText,\n      reciever_name,\n      reciever_email,\n      template_id: selectedTemplateId,\n      product_id: selectedProductId,\n      responder_name: myuser\n    };\n    try {\n      const response = await axios.post(`${Helpers.apiUrl}email-preview`, payload, Helpers.authHeaders);\n      if (response.status === 200) {\n        setResponse(response.data.body);\n        Helpers.toast(\"success\", \"Operation Successful\");\n      } else {\n        console.log(\"Operation not successful, response status:\", response.status);\n      }\n    } catch (error) {\n      console.error(\"An error occurred:\", error);\n    }\n  };\n  const [sendisLoading, setsendisLoading] = useState(false);\n  const handleEmailSend = async e => {\n    e.preventDefault();\n    setsendisLoading(true);\n    const fromField = emailData.detail.headers[\"From\"];\n    const received_message = emailData.detail.snippet;\n    const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\n    const reply_to = match ? match[2] : fromField;\n    const fromField1 = emailData.detail.headers[\"From\"];\n    const match1 = fromField1.match(/^(.*?)\\s*<(.*)>$/);\n    const reciever_name = match1 ? match1[1] : \"\"; // This would be \"GitHub\"\n    // console.log(\"asdfvcxyh\", reciever_name);\n    const reciever_email = match ? match[2] : fromField1;\n    // console.log(reciever_email);\n    const asseignedTeamIds = selectedAssignIds;\n    //  alert(asseignedTeamIds);\n    const formData = {\n      // template_id: selectedTemplateId,\n      // product_id: selectedProductId,\n      greeting: selectedGreetingText,\n      response: resposne,\n      // You need to define what this response should be.\n      reply_to: reply_to,\n      received_message: received_message,\n      responder_name: profile.name,\n      responder_mail: isGoogle.contact,\n      // sender_phone: profile.phone,\n      // sender_address: profile.address,\n      reciever_name: reciever_name,\n      reciever_email: reciever_email,\n      assigned_team_ids: asseignedTeamIds,\n      subject: profile.name,\n      message: finalTemplate\n      // store:storeId,\n      // location:locationId\n    };\n    try {\n      const response = await axios.post(`${Helpers.apiUrl}gmail/send-email`, formData, Helpers.authHeaders);\n      console.log(response);\n      if (response.status === 200) {\n        console.log(response.data);\n        Helpers.toast(\"success\", response.data.message);\n      } else {\n        console.log(\"Not sending mail\");\n        Helpers.toast(\"error\", \"Error in Sending Mail \");\n      }\n    } catch (error) {\n      console.error(\"Error in Sending Mail \", error);\n\n      // Check if error response indicates invalid grant\n      if (error.response && error.response.data && error.response.data.error === 'Refresh token is invalid, please reauthorize the application') {\n        // Prompt the user to reauthorize\n        Helpers.toast(\"error\", \"Session expired. Please reauthorize the application.\");\n      } else {\n        Helpers.toast(\"error\", \"Error in Sending Mail \");\n      }\n    } finally {\n      setExpandedMailId(null);\n      setSelectedTemplateId(null);\n      setLocationId(\"\");\n      setStoreId(\"\");\n      setSelectedCollectionId(\"\");\n      setSelectedProductId(\"\");\n      setsendisLoading(false); // Ensure isLoading is set to false in finally block\n    }\n  };\n\n  /// Filters\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  const [showSearch, setShowSearch] = useState(false); // Search input hidden by default\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isFilterActive, setIsFilterActive] = useState(false);\n  const [isDateFilterActive, setIsDateFilterActive] = useState(false);\n  const filteredMails = mails.filter(mail => {\n    var _mail$detail$headers;\n    const mailDate = new Date((_mail$detail$headers = mail.detail.headers) === null || _mail$detail$headers === void 0 ? void 0 : _mail$detail$headers.Date);\n    const startOfDay = startDate ? new Date(new Date(startDate).setHours(0, 0, 0, 0)) : null;\n    const endOfDay = endDate ? new Date(new Date(endDate).setHours(23, 59, 59, 999)) : null;\n    const isDateFiltered = !startOfDay || mailDate >= startOfDay && (!endOfDay || mailDate <= endOfDay);\n    return isDateFiltered;\n  }).filter(mail => {\n    var _mail$detail$headers2, _mail$detail$headers3;\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n    const isSearchTermInSnippet = mail.detail.snippet.toLowerCase().includes(lowerCaseSearchTerm);\n    const isSearchTermInFrom = (_mail$detail$headers2 = mail.detail.headers) === null || _mail$detail$headers2 === void 0 ? void 0 : (_mail$detail$headers3 = _mail$detail$headers2.From) === null || _mail$detail$headers3 === void 0 ? void 0 : _mail$detail$headers3.toLowerCase().includes(lowerCaseSearchTerm);\n    const isSearchFiltered = isSearchTermInSnippet || isSearchTermInFrom;\n    return isSearchFiltered;\n  });\n\n  // Update isFilterActive based on filters applied\n  useEffect(() => {\n    setIsDateFilterActive(startDate !== null || endDate !== null || searchTerm !== \"\");\n  }, [startDate, endDate, searchTerm]);\n  const [showInputs, setShowInputs] = useState(false);\n  const [sortDirection, setSortDirection] = useState(\"desc\"); // or 'desc' for default descending\n  const toggleSort = () => {\n    // Assuming the initial sortDirection state is \"desc\"\n    const newSortDirection = sortDirection === \"asc\" ? \"desc\" : \"asc\";\n    setSortDirection(newSortDirection);\n\n    // Perform sorting\n    setMails(currentMails => {\n      return [...currentMails].sort((a, b) => {\n        var _a$detail$headers, _b$detail$headers;\n        const dateA = new Date((_a$detail$headers = a.detail.headers) === null || _a$detail$headers === void 0 ? void 0 : _a$detail$headers.Date);\n        const dateB = new Date((_b$detail$headers = b.detail.headers) === null || _b$detail$headers === void 0 ? void 0 : _b$detail$headers.Date);\n        return newSortDirection === \"asc\" ? dateA - dateB : dateB - dateA;\n      });\n    });\n  };\n  const toggleSearchInput = () => {\n    setShowSearch(!showSearch); // Toggle the current state of the search input\n    if (showInputs) {\n      // If the date inputs are currently shown, hide them\n      setShowInputs(false);\n    }\n  };\n  const toggleInputs = () => {\n    setShowInputs(!showInputs); // Toggle the current state of the date inputs\n    if (showSearch) {\n      // If the search input is currently shown, hide it\n      setShowSearch(false);\n    }\n  };\n  const [selectedMailId, setSelectedMailId] = useState(null);\n  const handleSelectMail = mailId => {\n    setSelectedMailId(mailId);\n  };\n  const selectGreetingBasedOnTime = () => {\n    const hours = new Date().getHours();\n    let greeting;\n    if (hours < 12) {\n      greeting = \"Good Morning\";\n    } else if (hours >= 12 && hours <= 17) {\n      greeting = \"Good Afternoon\";\n    } else {\n      greeting = \"Good Evening\";\n    }\n    setSelectedGreetingText(greeting);\n  };\n  useEffect(() => {\n    selectGreetingBasedOnTime();\n  }, []); // The empty array ensures this effect runs once on mount\n  const [team, setTeam] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}getuserlist`, Helpers.authHeaders);\n        if (response.status === 200) {\n          setTeam(response.data.data); // Directly set the array of user objects to state\n        } else {\n          console.log(\"Error in getting user list\");\n        }\n      } catch (error) {\n        console.log(\"Error\", error);\n      }\n    };\n    fetchData();\n  }, []);\n  const [assignSuccess, setAssignSuccess] = useState(false);\n  const [selectedAssignIds, setSelectedAssignIds] = useState([]);\n  const handleAssignChange = async selectedOptions => {\n    const selectedIds = selectedOptions ? selectedOptions.map(option => option.value) : [];\n    console.log('selectedIds on team select', selectedIds);\n    setSelectedAssignIds(selectedIds);\n    if (!selectedIds.length) return; // Early return if no selection\n\n    const url = Helpers.apiUrl;\n    const token = localStorage.getItem(\"token\");\n    try {\n      console.log('message id on call handleAssignChange', messageId);\n      const response = await fetch(`${url}assignuser`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          team_ids: selectedIds,\n          message_id: messageId\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Helpers.toast(\"success\", \"Assigned Successfully\");\n        console.log(data, 'assigned data comes');\n      } else {\n        throw new Error(data.error || \"Failed to assign email\");\n      }\n    } catch (error) {\n      // Helpers.toast(\"error\", error.message || \"An error occurred\");\n      console.error(\"Error:\", error);\n    }\n  };\n  const filterAssign = async () => {\n    try {\n      const response = await axios.get(`${Helpers.apiUrl}getassignuser`, Helpers.authHeaders);\n      const assignedMessageIds = response.data.data.map(item => item.message_id);\n      // Now, filter emails based on assigned message IDs\n      const filteredMails = mails.filter(mail => assignedMessageIds.includes(mail.detail.headers[\"Message-ID\"]));\n      setMails(filteredMails);\n      setAssignSuccess(true);\n    } catch (error) {\n      console.error(\"Error:\", error); // Log error\n    }\n  };\n  const [selectedMemberId, setSelectedMemberId] = useState(\"\");\n  const handleMemberChange = selectedOption => {\n    if (selectedOption) {\n      console.log(\"Selected Member ID:\", selectedOption.value);\n      setSelectedMemberId(selectedOption.value);\n      filterMember(selectedOption.value);\n    } else {\n      setSelectedMemberId(\"\"); // or handle deselecting differently if needed\n    }\n  };\n\n  // Function to filter emails based on selected member ID\n  const filterMember = async memberId => {\n    try {\n      const response = await axios.get(`${Helpers.apiUrl}getassignuser`, Helpers.authHeaders);\n\n      // console.log(\"Get assignResponse data:\", response.data); // Log the response data\n      if (response.status === 200) {\n        const assignedData = response.data.data;\n        // console.log(\"Assigned Data:\", assignedData); // Debugging log\n\n        // Filter to get assigned message IDs for the selected team ID\n        const assignedMessageIds = assignedData.filter(item => String(item.team_id) === String(memberId)).map(item => item.message_id);\n        console.log(\"Assigned Message IDs:\", assignedMessageIds); // Log the filtered message IDs\n\n        // Filter the emails based on the assigned message IDs\n        const filteredMails = mails.filter(mail => assignedMessageIds.includes(String(mail.detail.headers[\"Message-ID\"])));\n        setMails(filteredMails); // Set the filtered mails\n        setAssignSuccess(true); // Indicate success\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      setAssignSuccess(false); // Indicate an error occurred\n    }\n  };\n  const [expandedMailId, setExpandedMailId] = useState(null);\n  const handleToggleDetails = mailId => {\n    if (expandedMailId === mailId) {\n      setExpandedMailId(null);\n    } else {\n      setExpandedMailId(mailId); // Expand if not expanded\n      setSelectedMailId(mailId);\n    }\n  };\n  const options = team.map(member => ({\n    value: member.id,\n    label: member.user_name\n  }));\n  // console.log(options,'options data');\n  const options1 = team.map(member => ({\n    value: member.id,\n    // make sure this is correctly populated\n    label: member.user_email // and this too\n  }));\n  // console.log(options1,'options 1 data');\n\n  const customStyles1 = {\n    control: styles => ({\n      ...styles,\n      backgroundColor: \"#D9D9D9B2\",\n      color: \"#ADADAD\"\n    })\n  };\n  const customStyles = {\n    control: styles => ({\n      ...styles,\n      backgroundColor: \"#E2545E\",\n      color: \"white\",\n      boxShadow: \"none\"\n    }),\n    singleValue: styles => ({\n      ...styles,\n      color: \"white\" // affects the selected option label\n    }),\n    placeholder: styles => ({\n      ...styles,\n      color: \"white\" // This will change the placeholder text color\n    }),\n    input: styles => ({\n      ...styles,\n      color: \"white\" // This will change the text color as you type in the search input\n    }),\n    dropdownIndicator: styles => ({\n      ...styles,\n      color: \"white\" // Arrow icon color\n    }),\n    noOptionsMessage: styles => ({\n      ...styles,\n      color: \"white\" // No options available message color\n    }),\n    menu: styles => ({\n      ...styles,\n      backgroundColor: \"#E2545E\" // Dropdown background\n    })\n  };\n  const [profile, setProfile] = useState(null);\n  useEffect(() => {\n    const fetchDetail = async () => {\n      try {\n        const response = await axios.get(`${Helpers.apiUrl}profile`, Helpers.authHeaders);\n        if (response.status === 200) {\n          // console.log(\"API Response:\", response.data.data.profile);\n          setProfile(response.data.data);\n        } else {\n          // console.log(\"Received non-200 response:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"Error fetching profile data:\", error);\n      }\n    };\n    fetchDetail();\n  }, []);\n  const toggleFilter = () => {\n    if (!isFilterActive) {\n      filterAssign(); // Apply the filter\n    }\n    setIsFilterActive(!isFilterActive); // Toggle the active state of the filter\n  };\n  const clearDateFilter = () => {\n    setStartDate(null);\n    setEndDate(null);\n    setSearchTerm(\"\");\n    setIsFilterActive(false); // Ensure this is reset when filters are cleared\n  };\n  const clearFilter = () => {\n    fetchData(); // Fetch initial data to reset filters\n    setIsFilterActive(false); // Reset the filter active state\n  };\n  const [activeIcon, setActiveIcon] = useState(null);\n  // const [sortDirection, setSortDirection] = useState(\"asc\");\n\n  const handleIconClick = iconName => {\n    setActiveIcon(activeIcon === iconName ? null : iconName);\n  };\n  const toggleSortDirection = () => {\n    setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n    handleIconClick(\"sort\");\n  };\n  const iconStyle = iconName => ({\n    fontSize: \"15px\",\n    color: activeIcon === iconName ? \"white\" : \"#AEAEAE\",\n    cursor: \"pointer\",\n    backgroundColor: activeIcon === iconName ? \"#E2545E\" : \"transparent\",\n    padding: \"11px\",\n    borderRadius: \"5px\",\n    border: \"1px solid #DFE2EB\",\n    marginLeft: \"8px\"\n  });\n  const fetchStores = async () => {\n    try {\n      const response = await axios.get(`${Helpers.apiUrl}fetch-store`, Helpers.authHeaders);\n      if (response.status === 200) {\n        const fetchedStores = response.data.data || [];\n        setStores(fetchedStores);\n        // Helpers.toast(\"success\", \"Fetch Stores Successfully\");\n      } else {\n        setStores([]); // Set to empty array on error\n      }\n    } catch (error) {\n      // Helpers.toast(\"error\", \"Error fetching stores. Please try again later.\");\n      setStores([]); // Set to empty array on error\n    }\n  };\n  useEffect(() => {\n    fetchStores();\n  }, []);\n  const [editTemplate, setEditTemplate] = useState(false);\n  const handleEditTemplate = () => {\n    setEditTemplate(!editTemplate);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex text-gray-900 h-[100vh] \",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container \",\n        style: {\n          borderRadius: \"20px\",\n          background: \"#F9F9F9\",\n          marginTop: \"2%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row  mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 w-full p-4   border-gray-200 rounded-lg  sm:p-6  dark:border-gray-700\",\n                style: {\n                  maxHeight: \"100vh\",\n                  overflowY: \"auto\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \" d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-3xl font-bold \",\n                    children: \"Inbox\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1055,\n                    columnNumber: 21\n                  }, this), isGoogle ? /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"countries\",\n                    className: \"bg-gray-50 rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2 dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n                    style: {\n                      borderRadius: \"50px\",\n                      marginLeft: \"3%\",\n                      width: \"50%\",\n                      background: \"#F0F0F0\",\n                      color: \"#C2C2C2\"\n                    },\n                    defaultValue: isGoogle.contact // Use defaultValue or value based on your need\n                    ,\n                    children: /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: isGoogle.contact,\n                      children: isGoogle.contact\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1071,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1059,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1075,\n                    columnNumber: 23\n                  }, this), isDateFilterActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn flex-1 py-2\",\n                    style: {\n                      background: \"#E2545E\",\n                      color: \"white\",\n                      marginLeft: \"1rem\"\n                    },\n                    onClick: clearDateFilter,\n                    children: \"Clear\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1078,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1090,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1090,\n                    columnNumber: 23\n                  }, this), assignSuccess ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn flex-1 py-2\",\n                    style: {\n                      background: \"#E2545E\",\n                      color: \"white\",\n                      marginLeft: \"1rem\"\n                    },\n                    onClick: clearFilter,\n                    children: \"Clear\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1094,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1106,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1106,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1054,\n                  columnNumber: 19\n                }, this), userNotFound ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(GoogleLoginButton, {\n                    onLoginClick: loginWithGoogle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1113,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1110,\n                  columnNumber: 21\n                }, this) : mails.length === 0 ? /*#__PURE__*/_jsxDEV(Loader, {\n                  style: {\n                    height: '90vh'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1117,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"pt-5 d-flex\",\n                    style: {\n                      width: \"100%\",\n                      position: \"static\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"icons flex ml-5\",\n                      style: {\n                        flex: \"0 0 auto\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => handleIconClick(\"calendar\"),\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa-light fa-calendar-range\",\n                          style: iconStyle(\"calendar\"),\n                          title: \"Calendar\",\n                          onClick: toggleInputs\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1140,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1139,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => handleIconClick(\"search\"),\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa-light fa-magnifying-glass\",\n                          style: iconStyle(\"search\"),\n                          title: \"Search\",\n                          onClick: toggleSearchInput\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1148,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1147,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: toggleSortDirection,\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: `fa-sharp fa-light ${sortDirection === \"asc\" ? \"fa-arrow-up-arrow-down\" : \"fa-arrow-down-arrow-up\"}`,\n                          style: iconStyle(\"sort\"),\n                          title: `Sort ${sortDirection === \"asc\" ? \"Ascending\" : \"Descending\"}`,\n                          onClick: toggleSort\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1156,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1155,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"icon-wrapper rounded p-3 border border-gray-300 ml-2\",\n                        style: {\n                          cursor: \"pointer\",\n                          color: isFilterActive ? \"white\" : \"#AEAEAE\",\n                          backgroundColor: isFilterActive ? \"#E2545E\" : \"transparent\"\n                        },\n                        title: \"Filter\",\n                        onClick: toggleFilter,\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa-light fa-circle-check\",\n                          style: {\n                            fontSize: \"15px\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1173,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1163,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(GoogleLoginComponent, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1178,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1135,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1120,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-center items-center space-x-4\",\n                    children: [showInputs && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pt-5 d-flex\",\n                      style: {\n                        width: \"100%\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex\",\n                        style: {\n                          flex: \"1\"\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-2 flex\",\n                          style: {\n                            flex: \"1\"\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"date\",\n                            value: startDate ? startDate.toISOString().substring(0, 10) : \"\",\n                            onChange: e => setStartDate(e.target.value ? new Date(e.target.value) : null),\n                            placeholder: \"Select start date\",\n                            style: {\n                              padding: \"5%\",\n                              width: \"100%\",\n                              borderRadius: \"30px\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1207,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1203,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-2 flex\",\n                          style: {\n                            flex: \"1\"\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"date\",\n                            value: endDate ? endDate.toISOString().substring(0, 10) : \"\",\n                            onChange: e => setEndDate(e.target.value ? new Date(e.target.value) : null),\n                            placeholder: \"Select end date\",\n                            style: {\n                              padding: \"5%\",\n                              width: \"100%\",\n                              borderRadius: \"30px\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1222,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1221,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1202,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1198,\n                      columnNumber: 29\n                    }, this), showSearch && /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: searchTerm,\n                      onChange: e => setSearchTerm(e.target.value),\n                      placeholder: \"Search mails\",\n                      className: \"search-input-class\",\n                      style: {\n                        width: \"100%\",\n                        padding: \"2%\",\n                        marginTop: \"2%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1240,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1196,\n                    columnNumber: 25\n                  }, this), filteredMails.length === 0 && !userNotFound ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: \"25%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/media/no_result_found.png\",\n                      alt: \"No results found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1256,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1255,\n                    columnNumber: 27\n                  }, this) : filteredMails.map((mail, index) => {\n                    var _mail$detail$headers4, _mail$detail$headers5, _mail$detail$headers7, _mail$detail$headers8, _mail$detail$headers9, _mail$detail$headers10, _mail$detail$headers11, _mail$detail$headers12;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"my-5 space-y-3 shadow\",\n                        style: {\n                          borderRadius: \"50px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: `rounded-lg ${mail.detail.headers && selectedMailId === mail.detail.headers[\"Message-ID\"] ? \"selected-outline\" : \"\"}`,\n                          children: [/*#__PURE__*/_jsxDEV(Link, {\n                            to: `/user/dashboard/${(_mail$detail$headers5 = mail.detail.headers) === null || _mail$detail$headers5 === void 0 ? void 0 : _mail$detail$headers5[\"Message-ID\"]}`,\n                            className: \"flex items-center p-3 bg-white text-base font-bold text-gray-900 rounded-lg hover:bg-gray-100 group hover:shadow dark:hover:bg-gray-100 dark:text-white\",\n                            onClick: () => {\n                              var _mail$detail$headers6;\n                              return handleToggleDetails((_mail$detail$headers6 = mail.detail.headers) === null || _mail$detail$headers6 === void 0 ? void 0 : _mail$detail$headers6[\"Message-ID\"]);\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-col flex-grow ms-3\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex\",\n                                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                  children: (_mail$detail$headers7 = mail.detail.headers) !== null && _mail$detail$headers7 !== void 0 && _mail$detail$headers7.From ? mail.detail.headers.From.split(\" <\")[0] : \"Unknown Sender\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1291,\n                                  columnNumber: 41\n                                }, this), assignSuccess ? /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa-light fa-circle-check\",\n                                  style: {\n                                    fontSize: \"15px\",\n                                    color: \"green\",\n                                    cursor: \"pointer\",\n                                    marginLeft: \"3%\",\n                                    marginTop: \"0%\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1295,\n                                  columnNumber: 43\n                                }, this) : \"\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1290,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                                className: \"text-xs\",\n                                style: {\n                                  color: \"#C2C2C2\"\n                                },\n                                children: ((_mail$detail$headers8 = mail.detail.headers) === null || _mail$detail$headers8 === void 0 ? void 0 : _mail$detail$headers8.Date) || \"\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1309,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                className: \"text-xs\",\n                                style: {\n                                  color: \"#C2C2C2\",\n                                  width: \"100%\"\n                                },\n                                children: ((_mail$detail$headers9 = mail.detail.headers) === null || _mail$detail$headers9 === void 0 ? void 0 : _mail$detail$headers9.Subject) || \"No Subject\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1312,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1289,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: `fa-solid ${expandedMailId === ((_mail$detail$headers10 = mail.detail.headers) === null || _mail$detail$headers10 === void 0 ? void 0 : _mail$detail$headers10[\"Message-ID\"]) ? \"fa-caret-up\" : \"fa-caret-down\"} ml-auto text-gray-500`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1322,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1274,\n                            columnNumber: 35\n                          }, this), expandedMailId === ((_mail$detail$headers11 = mail.detail.headers) === null || _mail$detail$headers11 === void 0 ? void 0 : _mail$detail$headers11[\"Message-ID\"]) && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"bg-white p-3 rounded-lg\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs\",\n                              children: [\"Message:- \", mail.detail.snippet || \"No snippet available\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1332,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs\",\n                              children: [\"Received:- \", ((_mail$detail$headers12 = mail.detail.headers) === null || _mail$detail$headers12 === void 0 ? void 0 : _mail$detail$headers12.Date) || \"No date available\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1336,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1331,\n                            columnNumber: 37\n                          }, this)]\n                        }, mail.detail.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1265,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1264,\n                        columnNumber: 31\n                      }, this)\n                    }, ((_mail$detail$headers4 = mail.detail.headers) === null || _mail$detail$headers4 === void 0 ? void 0 : _mail$detail$headers4[\"Message-ID\"]) || index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1263,\n                      columnNumber: 29\n                    }, this);\n                  })]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card bg-white p-4 border border-gray-200 rounded-lg shadow sm:p-6\",\n              style: {\n                maxHeight: \"90vh\",\n                overflowY: \"auto\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl\",\n                  style: {\n                    color: \"#666666\"\n                  },\n                  children: \"CC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1359,\n                  columnNumber: 19\n                }, this), userNotFound ? /*#__PURE__*/_jsxDEV(Select, {\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  className: \"basic-single mt-3\",\n                  classNamePrefix: \"select\",\n                  styles: customStyles1,\n                  placeholder: \"Select a team member\",\n                  isDisabled: expandedMailId === null ? true : false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1363,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Select, {\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  className: \"basic-single mt-3\",\n                  classNamePrefix: \"select\",\n                  defaultValue: options[0],\n                  isClearable: true,\n                  isSearchable: true,\n                  styles: customStyles1,\n                  name: \"teamSelect\",\n                  isMulti: true,\n                  options: options // Your options array here\n                  ,\n                  onChange: handleAssignChange,\n                  placeholder: \"Select a team member\",\n                  isDisabled: expandedMailId === null ? true : false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1372,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1358,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl\",\n                  style: {\n                    color: \"#666666\"\n                  },\n                  children: \"Choose Template\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1391,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",\n                  onChange: handleTemplateChange,\n                  value: selectedTemplateId || \"\",\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  disabled: expandedMailId === null ? true : false,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: \"Select Template\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1402,\n                    columnNumber: 21\n                  }, this), templates.map(template => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: template.id,\n                    children: template.template_name\n                  }, template.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1404,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1394,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1390,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl\",\n                  style: {\n                    color: \"#666666\"\n                  },\n                  children: \"Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1412,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",\n                  onChange: e => handleLocationButton(e.target.value),\n                  value: locationId || \"\",\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  disabled: expandedMailId === null ? true : false,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: \"Select Location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1422,\n                    columnNumber: 21\n                  }, this), locations.map(location => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: location.location,\n                    children: location.location\n                  }, location.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1424,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1415,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl\",\n                  style: {\n                    color: \"#666666\"\n                  },\n                  children: \"Stores\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",\n                  onChange: e => handleStoreButton(e.target.value),\n                  value: storeId || \"\",\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  disabled: expandedMailId === null ? true : false,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: \"Select Store\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1444,\n                    columnNumber: 21\n                  }, this), stores.map(store => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: store.name,\n                    children: store.name\n                  }, store.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1446,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1437,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl\",\n                  style: {\n                    color: \"#666666\"\n                  },\n                  children: \"Collections\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1454,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",\n                  value: selectedCollectionId,\n                  onChange: handleSelectionChange,\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  disabled: expandedMailId === null ? true : false,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select a collection\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1464,\n                    columnNumber: 21\n                  }, this), collections.map(collection => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: collection.id,\n                    children: collection.name\n                  }, collection.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1466,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1457,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1453,\n                columnNumber: 17\n              }, this), selectedCollectionId && filteredProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-xl\",\n                  style: {\n                    color: \"#666666\"\n                  },\n                  children: \"Model Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1474,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",\n                  value: selectedProductId,\n                  onChange: handleProductChange,\n                  style: {\n                    background: \"#D9D9D9B2\",\n                    color: \"#ADADAD\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select a model\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1483,\n                    columnNumber: 23\n                  }, this), filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: product.id,\n                    children: product.name\n                  }, product.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1485,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1477,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              style: {\n                maxHeight: \"90vh\",\n                overflowY: \"auto\"\n              },\n              children: selectedTemplateId ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12 w-full p-2 bg-white border-gray-200 rounded-lg sm:p-6 dark:bg-gray-800 dark:border-gray-700\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card shadow-none\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-3\",\n                    children: [!editTemplate && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"small text-dark\",\n                      style: {\n                        whiteSpace: \"pre-wrap\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        dangerouslySetInnerHTML: {\n                          __html: finalTemplate\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1510,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1506,\n                      columnNumber: 27\n                    }, this), editTemplate && /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      value: finalTemplate,\n                      onChange: handleFinalTemplateChange,\n                      style: {\n                        whiteSpace: \"pre-wrap\",\n                        width: \"100%\",\n                        height: \"80vh\",\n                        border: \"1px solid black\",\n                        borderRadius: \"10px\",\n                        padding: \"5%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1516,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1504,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"flex-end\",\n                      marginBottom: \"3%\",\n                      marginRight: \"3%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      onSubmit: handleEmailSend,\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn flex-1 py-2\",\n                        onClick: handleEditTemplate,\n                        style: {\n                          background: \"#E2545E\",\n                          color: \"white\",\n                          marginLeft: \"1rem\"\n                        },\n                        children: editTemplate ? \"View\" : \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1533,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn flex-1 py-2\",\n                        style: {\n                          background: \"#E2545E\",\n                          color: \"white\",\n                          marginLeft: \"1rem\"\n                        },\n                        disabled: sendisLoading,\n                        children: sendisLoading ? \"Please Wait...\" : \"Send\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1545,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1532,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1524,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1503,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1502,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: \"30%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/media/result.png\",\n                  alt: \"No template selected\",\n                  style: {\n                    width: \"100%\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1563,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    alignItems: \"center\",\n                    textAlign: \"center\",\n                    paddingTop: \"8%\",\n                    paddingBottom: \"5%\"\n                  },\n                  children: \"Please Choose the template\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1568,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1562,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1496,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1495,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1037,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Home, \"mRZZZ+WJqwwVziz1we7RTovxXA4=\", false, function () {\n  return [useParams];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Sidebar","Link","useParams","Helpers","axios","Select","useNavigate","GoogleLoginComponent","GoogleLoginButton","Loader","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","document","title","isAuthenticated","setIsAuthenticated","isLoading","setIsLoading","mails","setMails","isGoogle","setIsGoogle","userNotFound","setUserNotFound","loading","setLoading","userJson","localStorage","getItem","user","JSON","parse","userEmail","email","emailData","setEmailData","messageId","url","apiUrl","handleLoginSuccess","response","fetchDetail","get","authHeaders","status","data","error","console","loginWithGoogle","userString","id","log","userId","backendURL","backendUrl","window","location","href","fetchData","emails","map","detail","e","setAssignSuccess","emailMessage","find","headers","request","message","templates","setTemplates","selectedTemplateId","setSelectedTemplateId","finalTemplate","setFinalTemplate","handleTemplateChange","event","setLocationId","target","value","handleFinalTemplateChange","products","setProducts","locations","setLocations","fetchLocations","Array","isArray","collections","setCollections","allProducts","setAllProducts","selectedCollectionId","setSelectedCollectionId","selectedProductId","setSelectedProductId","filteredProducts","setFilteredProducts","storeId","setStoreId","handleStoreButton","store","stores","setStores","locationId","handleLocationButton","updateTemplate","fetchCollections","handleAPIError","fetchProducts","filtered","filter","product","String","collection_id","handleSelectionChange","handleProductChange","newProductId","p","setSelectedProduct","productCollectionId","isSelectedCollectionId","selectedProduct","getTemplates","_emailData$detail$hea","templateToUpdate","temp","parseInt","username","userName","name","replacements","match","price","stock","link","features","benefits","contact","profile","phone","address","collection_name","image","updatedTemplate","heading","key","Object","entries","replace","RegExp","modelName","modelPrice","modelStock","modelLink","modelFeature","modelStore","modelLocation","modelBenefit","mycollection","imageHtml","basePath","fromField","reciever_name","sender_email","sender_phone","sender_address","modifiedTemplates","template","greetingUpdated","selectedGreetingText","setSelectedGreetingText","handleGreetingButton","greetingText","setStock","handleStockChange","showPreview","setShowPreview","handleProceed","resposne","setResponse","handleSubmit","preventDefault","myuser","myemail","reciever_email","payload","email_address","greeting","template_id","product_id","responder_name","post","body","toast","sendisLoading","setsendisLoading","handleEmailSend","received_message","snippet","reply_to","fromField1","match1","asseignedTeamIds","selectedAssignIds","formData","responder_mail","assigned_team_ids","subject","setExpandedMailId","startDate","setStartDate","endDate","setEndDate","showSearch","setShowSearch","searchTerm","setSearchTerm","isFilterActive","setIsFilterActive","isDateFilterActive","setIsDateFilterActive","filteredMails","mail","_mail$detail$headers","mailDate","Date","startOfDay","setHours","endOfDay","isDateFiltered","_mail$detail$headers2","_mail$detail$headers3","lowerCaseSearchTerm","toLowerCase","isSearchTermInSnippet","includes","isSearchTermInFrom","From","isSearchFiltered","showInputs","setShowInputs","sortDirection","setSortDirection","toggleSort","newSortDirection","currentMails","sort","a","b","_a$detail$headers","_b$detail$headers","dateA","dateB","toggleSearchInput","toggleInputs","selectedMailId","setSelectedMailId","handleSelectMail","mailId","selectGreetingBasedOnTime","hours","getHours","team","setTeam","assignSuccess","setSelectedAssignIds","handleAssignChange","selectedOptions","selectedIds","option","length","token","fetch","method","Accept","Authorization","stringify","team_ids","message_id","json","ok","Error","filterAssign","assignedMessageIds","item","selectedMemberId","setSelectedMemberId","handleMemberChange","selectedOption","filterMember","memberId","assignedData","team_id","expandedMailId","handleToggleDetails","options","member","label","user_name","options1","user_email","customStyles1","control","styles","backgroundColor","color","customStyles","boxShadow","singleValue","placeholder","input","dropdownIndicator","noOptionsMessage","menu","setProfile","toggleFilter","clearDateFilter","clearFilter","activeIcon","setActiveIcon","handleIconClick","iconName","toggleSortDirection","iconStyle","fontSize","cursor","padding","borderRadius","border","marginLeft","fetchStores","fetchedStores","editTemplate","setEditTemplate","handleEditTemplate","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","background","marginTop","maxHeight","overflowY","width","defaultValue","onClick","onLoginClick","height","position","flex","type","toISOString","substring","onChange","src","alt","index","_mail$detail$headers4","_mail$detail$headers5","_mail$detail$headers7","_mail$detail$headers8","_mail$detail$headers9","_mail$detail$headers10","_mail$detail$headers11","_mail$detail$headers12","to","_mail$detail$headers6","split","Subject","classNamePrefix","isDisabled","isClearable","isSearchable","isMulti","disabled","template_name","collection","whiteSpace","dangerouslySetInnerHTML","__html","display","justifyContent","marginBottom","marginRight","onSubmit","alignItems","textAlign","paddingTop","paddingBottom","_c","$RefreshReg$"],"sources":["D:/Shahid Zafar/Rolex/frontend-rolex/src/Pages/User/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Sidebar from \"./../../Components/Sidebar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Helpers from \"./../../Config/Helpers\";\r\nimport axios from \"axios\";\r\nimport Select from \"react-select\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport GoogleLoginComponent from \"../Admin/Components/GoogleLoginComponent\";\r\nimport GoogleLoginButton from \"../Admin/Components/GoogleLoginButton\";\r\nimport Loader from \"../Admin/Components/Loader\";\r\n\r\nconst Home = () => {\r\n  useEffect(() => {\r\n    document.title = \"Home - Crownsync AI\";\r\n\r\n    return () => {\r\n\r\n      document.title = \"Crownsync Ai\";\r\n    };\r\n  }, []);\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [mails, setMails] = useState([]);\r\n  const [isGoogle, setIsGoogle] = useState(null);\r\n  const [userNotFound, setUserNotFound] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const userJson = localStorage.getItem(\"user\");\r\n\r\n  const user = JSON.parse(userJson);\r\n  const userEmail = user ? user.email : null;\r\n\r\n  const [emailData, setEmailData] = useState(null);\r\n  let { messageId } = useParams();\r\n\r\n\r\n  useEffect(() => {\r\n    // const asyncOperations = [\r\n    //     new Promise((resolve) => setTimeout(resolve, 1000)), // Example async operation 1\r\n    //     new Promise((resolve) => setTimeout(resolve, 2000)), // Example async operation 2\r\n    //     new Promise((resolve) => setTimeout(resolve, 3000)), // Example async operation 3\r\n    // ];\r\n\r\n    // Promise.all(asyncOperations)\r\n    //     .then(() => {\r\n    //         setLoading(false);\r\n    //         Helpers.toast(\"success\", \"Page is ready now\");\r\n    //     });\r\n}, []);\r\n  const url = Helpers.apiUrl;\r\n  const handleLoginSuccess = (response) => {\r\n    // alert(response);\r\n    // console.log('Login Response:', response);\r\n\r\n};\r\n\r\n  useEffect(() => {\r\n    const fetchDetail = async () => {\r\n        try {\r\n          const response = await axios.get(`${Helpers.apiUrl}check-login`, Helpers.authHeaders);\r\n          if (response.status === 200 && response.data.data) {\r\n            setIsGoogle(response.data.data);\r\n            setUserNotFound(false);\r\n          } else {\r\n            setIsGoogle(null);\r\n            setUserNotFound(true);\r\n          }\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 404) {\r\n            // Handle user not found\r\n            setUserNotFound(true);\r\n            setIsGoogle(null);\r\n          } else {\r\n            // Handle other errors\r\n            console.error(\"Error fetching details:\", error);\r\n          }\r\n        }\r\n    };\r\n\r\n    fetchDetail();\r\n  }, []);\r\n\r\n  const loginWithGoogle = () => {\r\n   // Retrieve the user data from localStorage\r\nconst userString = localStorage.getItem('user');\r\n\r\n// Parse it into an object, if the data is not null\r\nlet user = null;\r\nif (userString) {\r\n  try {\r\n    user = JSON.parse(userString);\r\n  } catch (error) {\r\n    console.error('Error parsing user data:', error);\r\n  }\r\n}\r\n\r\n// Access and log the user id\r\nif (user && user.id) {\r\n  console.log('User ID:', user.id);\r\n} else {\r\n  console.log('User data is missing or does not contain an id.');\r\n}\r\n    const userId = localStorage.getItem('user_id'); // Retrieve the stored user ID\r\n    const backendURL = Helpers.backendUrl;\r\n    window.location.href = `${backendURL}auth/redirect?userId=${user.id}`; // Pass only the user ID\r\n};\r\n\r\n  const fetchData = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}email-messages`, Helpers.authHeaders);\r\n      if (response.status === 200) {\r\n        const emails = response.data.data.map((email) => {\r\n          try {\r\n            // Assuming email.detail is a JSON string that needs parsing\r\n            return { ...email, detail: JSON.parse(email.detail) };\r\n          } catch (e) {\r\n            console.error(\r\n              \"Failed to parse email detail for email with ID:\",\r\n              email.id\r\n            );\r\n            return { ...email, detail: {} }; // Provide empty detail in case of parsing failure\r\n          }\r\n        });\r\n        setMails(emails);\r\n        setAssignSuccess(false);\r\n      } else {\r\n        console.log(\"Received non-200 response:\", response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n      if (error.response && error.response.status === 401) {\r\n        setIsAuthenticated(false); // Assuming you meant to set false here\r\n      } else {\r\n        setIsAuthenticated(true); // You can decide the correct logic\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // useEffect to call fetchData on component mount\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}email-messages`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          console.log('mail data comes',response.data);\r\n          const emails = response.data.data.map((email) => {\r\n            try {\r\n              // Assuming email.detail is a JSON string that needs parsing\r\n              return { ...email, detail: JSON.parse(email.detail) };\r\n            } catch (e) {\r\n              console.error(\r\n                \"Failed to parse email detail for email with ID:\",\r\n                email.id,\r\n                e\r\n              );\r\n              return { ...email, detail: {} }; // Provide empty detail in case of parsing failure\r\n            }\r\n          });\r\n\r\n          const emailMessage = emails.find(\r\n            (email) =>\r\n              email.detail.headers &&\r\n              email.detail.headers[\"Message-ID\"] === messageId\r\n              \r\n          );\r\n          console.log('message id down',messageId);\r\n          if (emailMessage) {\r\n            setEmailData(emailMessage);\r\n            // console.log(\"Email data:\", emailMessage);\r\n          } else {\r\n            console.log(\"Email with messageId not found.\");\r\n          }\r\n        } else {\r\n          console.log(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n        // Handle error\r\n        if (error.response) {\r\n          // Server responded with a status code outside 2xx range\r\n          console.error(\"Error data:\", error.response.data);\r\n          console.error(\"Error status:\", error.response.status);\r\n        } else if (error.request) {\r\n          // No response was received to the request\r\n          console.error(\"No response received:\", error.request);\r\n        } else {\r\n          // An error occurred in setting up the request\r\n          console.error(\"Error message:\", error.message);\r\n        }\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [messageId]); // Fetch data whenever messageId changes\r\n  const [templates, setTemplates] = useState([]);\r\n  const [selectedTemplateId, setSelectedTemplateId] = useState(null);\r\n  const [finalTemplate, setFinalTemplate] = useState(\"\");\r\n\r\n  const handleTemplateChange = (event) => {\r\n    setLocationId(\"\");\r\n    setSelectedTemplateId(event.target.value);\r\n  };\r\n  const handleFinalTemplateChange = (event) => {\r\n    setFinalTemplate(event.target.value);\r\n  };\r\n\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [locations, setLocations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchLocations = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}fetch-locations`, Helpers.authHeaders);\r\n        if (response.status === 200 && Array.isArray(response.data.data)) {\r\n          // console.log('location data',response.data.data);\r\n          setLocations(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLocations();\r\n  }, []);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}rolex_models`, Helpers.authHeaders);\r\n        if (response.status === 200 && Array.isArray(response.data.data)) {\r\n          setProducts(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  //location\r\n\r\n\r\n  const [collections, setCollections] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [selectedCollectionId, setSelectedCollectionId] = useState(\"\");\r\n  const [selectedProductId, setSelectedProductId] = useState(\"\");\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n    // For passing store Id\r\n    const [storeId, setStoreId] = useState(\"\");\r\n\r\n    const handleStoreButton = (store) => {\r\n      setStoreId(store);\r\n    };\r\n    const [stores, setStores] = useState([]);\r\n    // For passing location Id\r\n    const [locationId, setLocationId] = useState(\"\");\r\n\r\n    const handleLocationButton = (location) => {\r\n      setLocationId(location);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (locationId !== \"\" || storeId !== \"\") {\r\n        updateTemplate();\r\n      }\r\n    }, [locationId, storeId]);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchCollections = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}collects`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          setCollections(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n        handleAPIError(error);\r\n      }\r\n    };\r\n\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}rolex_models`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          setAllProducts(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n        handleAPIError(error);\r\n      }\r\n    };\r\n\r\n    fetchCollections();\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedCollectionId) {\r\n      const filtered = allProducts.filter(\r\n        (product) =>\r\n          String(product.collection_id) === String(selectedCollectionId)\r\n      );\r\n      setFilteredProducts(filtered);\r\n    } else {\r\n      setFilteredProducts([]);\r\n    }\r\n  }, [selectedCollectionId, allProducts]);\r\n\r\n  const handleSelectionChange = (event) => {\r\n    setSelectedCollectionId(event.target.value);\r\n    setSelectedProductId(\"\"); // Reset the product selection\r\n  };\r\n\r\n  const handleProductChange = (event) => {\r\n    const newProductId = event.target.value;\r\n    setSelectedProductId(newProductId);\r\n    const product = filteredProducts.find((p) => String(p.id) === String(newProductId));\r\n    setSelectedProduct(product);\r\n};\r\n  const handleAPIError = (error) => {\r\n    if (error.response) {\r\n      console.error(\"Error data:\", error.response.data);\r\n      console.error(\"Error status:\", error.response.status);\r\n    } else if (error.request) {\r\n      console.error(\"No response received:\", error.request);\r\n    } else {\r\n      console.error(\"Error message:\", error.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n  \r\n    const filtered = allProducts.filter((product) => {\r\n      const productCollectionId = String(product.collection_id);\r\n      const isSelectedCollectionId = String(selectedCollectionId);\r\n\r\n      return productCollectionId === isSelectedCollectionId;\r\n    });\r\n\r\n    // console.log(\"Filtered Products:\", filtered);\r\n    setFilteredProducts(filtered);\r\n  }, [selectedCollectionId, allProducts]);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  useEffect(() => {\r\n    // This effect keeps the selectedProduct state in sync with the selectedProductId state\r\n    if (selectedProductId !== \"\") {\r\n        const product = filteredProducts.find(\r\n            (p) => String(p.id) === String(selectedProductId)\r\n        );\r\n        setSelectedProduct(product);\r\n    } else {\r\n        setSelectedProduct(null);\r\n    }\r\n}, [selectedProductId, filteredProducts]);\r\n\r\n  const getTemplates = async () => {\r\n    const response = await axios.get(`${Helpers.apiUrl}admin/mail_templates`, Helpers.authHeaders);\r\n    if (response.status === 200) {\r\n      setTemplates(response.data.data);\r\n      // console.log('my templates',response.data.data);\r\n    }\r\n  };\r\n\r\n  const updateTemplate = () => {\r\n    if (selectedTemplateId) {\r\n\r\n      const templateToUpdate = templates.find(temp => temp.id === parseInt(selectedTemplateId));\r\n  \r\n      if (!templateToUpdate) {\r\n        console.error('Template with the given ID was not found.');\r\n        return;\r\n      }\r\n\r\n      const username = localStorage.getItem(\"user\");\r\n      const user = JSON.parse(username);\r\n      const userName = user ? user.name : \"\";\r\n\r\n      const replacements = {\r\n        'MyName': userName || \"\",\r\n        'ClientName': emailData.detail.headers[\"From\"].match(/^(.*?)\\s*<(.*)>$/)?.[1] || \"\",\r\n        'Model': selectedProduct?.name || \"\",\r\n        'Price': selectedProduct?.price || \"\",\r\n        'Stock': selectedProduct?.stock || \"\",\r\n        'Link': selectedProduct?.link || \"\",\r\n        'Features': selectedProduct?.features || \"\", \r\n        // 'Store': selectedProduct?.store || \"\",\r\n        'Store': storeId || \"\",\r\n        // 'Location': selectedProduct?.location || \"\",\r\n        'Location': locationId || \"\",\r\n\r\n        'Benefits': selectedProduct?.benefits || \"\",\r\n        'MyEmail': isGoogle?.contact || \"\",\r\n        'MyPhone': profile?.phone || \"\",\r\n        'Address': profile?.address || \"\",\r\n        'Collection': selectedProduct?.collection_id ? selectedProduct.collection_name : \"\",\r\n        'Image': selectedProduct?.image ? `<img src=\"${selectedProduct.image}\" alt=\"${selectedProduct?.name}\" style=\"max-width: 100%; height: 200px; align-items: center; text-align: center; display: flex; justify-content: center; />` : \"\"\r\n      };\r\n\r\n      \r\n      // Apply replacements, replacing placeholders with empty strings for empty fields\r\n      let updatedTemplate = templateToUpdate.heading;\r\n      for (const [key, value] of Object.entries(replacements)) {\r\n        if (value !== \"\") {\r\n          // Only replace placeholders with actual values\r\n          updatedTemplate = updatedTemplate.replace(new RegExp(`\\\\[${key}\\\\]`, 'gi'), value);\r\n        } else {\r\n          // If the value is empty, replace the placeholder with an empty string\r\n          updatedTemplate = updatedTemplate.replace(new RegExp(`\\\\[${key}\\\\]`, 'gi'), '');\r\n        }\r\n      }\r\n  \r\n      setFinalTemplate(updatedTemplate);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  useEffect(() => {\r\n    updateTemplate();\r\n  }, [selectedProductId, emailData, selectedTemplateId, selectedCollectionId]);\r\n\r\n  useEffect(() => {\r\n    getTemplates();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // console.log(\"Called\");\r\n      const username = localStorage.getItem(\"user\");\r\n      const user = JSON.parse(username);\r\n      const userName = user ? user.name : \"Customer\";\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}admin/mail_templates`, Helpers.authHeaders);\r\n        const modelName =\r\n          selectedProduct && selectedProduct.name ? selectedProduct.name : \"[]\";\r\n        const modelPrice =\r\n          selectedProduct && selectedProduct.price\r\n            ? selectedProduct.price\r\n            : \"[]\";\r\n        const modelStock =\r\n          selectedProduct && selectedProduct.stock\r\n            ? selectedProduct.stock\r\n            : \"[]\";\r\n        const modelLink =\r\n          selectedProduct && selectedProduct.link ? selectedProduct.link : \"[]\";\r\n        const modelFeature =\r\n          selectedProduct && selectedProduct.features\r\n            ? selectedProduct.features\r\n            : \"[]\";\r\n        const modelStore =\r\n          selectedProduct && selectedProduct.store\r\n            ? selectedProduct.store\r\n            : \"[]\";\r\n        const modelLocation =\r\n          selectedProduct && selectedProduct.location\r\n            ? selectedProduct.location\r\n            : \"[]\";\r\n        const modelBenefit =\r\n          selectedProduct && selectedProduct.benefits\r\n            ? selectedProduct.benefits\r\n            : \"[]\";\r\n        const mycollection =\r\n          selectedProduct && selectedProduct.collection_id\r\n            ? selectedProduct.collection_name\r\n            : \"[]\";\r\n        // console.log(\"asdfcxe\", mycollection);\r\n        const imageHtml =\r\n          selectedProduct && selectedProduct.image\r\n            ? `<img src=\"${Helpers.basePath}/assets/${selectedProduct.image}\" alt=\"${selectedProduct.name}\" style=\"max-width: 100%; height: 200px; align-items: center;text-align:center;display:flex;justify-content:center;margin-left:10%\" />`\r\n            : \"[]\";\r\n        const fromField = emailData.detail.headers[\"From\"];\r\n        const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\r\n        const reciever_name = match ? match[1] : \"\";\r\n        const sender_email = isGoogle ? isGoogle.contact : \"\";\r\n        const sender_phone = profile ? profile.phone : \"\";\r\n        const sender_address = profile ? profile.address : \"\";\r\n        if (response.status === 200) {\r\n          const modifiedTemplates = response.data.data.map((template) => {\r\n            const greetingUpdated = template.heading\r\n              .replace(/\\[SenderName\\]/gi, userName)\r\n              .replace(/\\[ReceiverName\\]/gi, reciever_name)\r\n              .replace(/\\[Model\\]/gi, modelName)\r\n              .replace(/\\[Price\\]/gi, modelPrice)\r\n              .replace(/\\[Stock\\]/gi, modelStock)\r\n              .replace(/\\[Link\\]/gi, modelLink)\r\n              .replace(/\\[Features\\]/gi, modelFeature)\r\n              .replace(/\\[Store\\]/gi, modelStore)\r\n              .replace(/\\[Location\\]/gi, modelLocation)\r\n              .replace(/\\[Benefits\\]/gi, modelBenefit)\r\n              .replace(/\\[SenderEmail\\]/gi, sender_email)\r\n              .replace(/\\[SenderPhone\\]/gi, sender_phone)\r\n              .replace(/\\[SenderAddress\\]/gi, sender_address)\r\n              .replace(/\\[Collection\\]/gi, mycollection)\r\n              .replace(/\\[Image\\]/gi, imageHtml);\r\n            return {\r\n              ...template,\r\n              heading: greetingUpdated,\r\n            };\r\n          });\r\n          setTemplates(modifiedTemplates);\r\n        } else {\r\n          // console.log(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    // fetchData();\r\n  }, [selectedProductId, emailData, selectedTemplateId, selectedCollectionId]);\r\n\r\n  // For passing data in email preview section\r\n  const [selectedGreetingText, setSelectedGreetingText] = useState(\"\");\r\n\r\n  const handleGreetingButton = (greetingText) => {\r\n    setSelectedGreetingText(greetingText);\r\n    console.log(greetingText); // Now this directly logs the greetings text\r\n  };\r\n\r\n \r\n  const [stock, setStock] = useState(\"\");\r\n  const handleStockChange = (status) => {\r\n    setStock(status);\r\n    // console.log(stock);\r\n  };\r\n  // console.log(\"SELECTED MAIL\", emailData);\r\n  const [showPreview, setShowPreview] = useState(false); // New state for toggling the preview\r\n  const handleProceed = () => {\r\n    // Toggle the visibility of the email preview section\r\n    setShowPreview(true);\r\n    // console.log(showPreview);\r\n  };\r\n  const [resposne, setResponse] = useState(\"\");\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const username = localStorage.getItem(\"user\");\r\n    const user = JSON.parse(username);\r\n\r\n    const myuser = user ? user.name : null;\r\n    const myemail = user ? user.email : null;\r\n\r\n    const fromField = emailData.detail.headers[\"From\"];\r\n    const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\r\n    const reciever_name = match ? match[1] : \"\"; // This would be \"GitHub\"\r\n    // console.log(reciever_name);\r\n    const reciever_email = match ? match[2] : fromField;\r\n    // console.log(reciever_email);\r\n    const payload = {\r\n      email_address: myemail,\r\n      greeting: selectedGreetingText,\r\n      reciever_name,\r\n      reciever_email,\r\n      template_id: selectedTemplateId,\r\n      product_id: selectedProductId,\r\n      responder_name: myuser,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`${Helpers.apiUrl}email-preview`,payload, Helpers.authHeaders);\r\n      if (response.status === 200) {\r\n\r\n        setResponse(response.data.body);\r\n        Helpers.toast(\"success\", \"Operation Successful\");\r\n      } else {\r\n        console.log(\r\n          \"Operation not successful, response status:\",\r\n          response.status\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n    }\r\n  };\r\n  const [sendisLoading, setsendisLoading] = useState(false);\r\n  const handleEmailSend = async (e) => {\r\n    e.preventDefault();\r\n    setsendisLoading(true);\r\n    const fromField = emailData.detail.headers[\"From\"];\r\n    const received_message = emailData.detail.snippet;\r\n    const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\r\n    const reply_to = match ? match[2] : fromField;\r\n    const fromField1 = emailData.detail.headers[\"From\"];\r\n    const match1 = fromField1.match(/^(.*?)\\s*<(.*)>$/);\r\n    const reciever_name = match1 ? match1[1] : \"\"; // This would be \"GitHub\"\r\n    // console.log(\"asdfvcxyh\", reciever_name);\r\n    const reciever_email = match ? match[2] : fromField1;\r\n    // console.log(reciever_email);\r\n    const asseignedTeamIds = selectedAssignIds;\r\n  //  alert(asseignedTeamIds);\r\n    const formData = {\r\n      // template_id: selectedTemplateId,\r\n      // product_id: selectedProductId,\r\n      greeting: selectedGreetingText,\r\n      response: resposne, // You need to define what this response should be.\r\n      reply_to: reply_to,\r\n      received_message: received_message,\r\n      responder_name: profile.name,\r\n      responder_mail: isGoogle.contact,\r\n      // sender_phone: profile.phone,\r\n      // sender_address: profile.address,\r\n      reciever_name: reciever_name,\r\n      reciever_email: reciever_email,\r\n      assigned_team_ids : asseignedTeamIds,\r\n      subject : profile.name,\r\n      message : finalTemplate\r\n      // store:storeId,\r\n      // location:locationId\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`${Helpers.apiUrl}gmail/send-email`, formData, Helpers.authHeaders);\r\n      console.log(response)\r\n      if (response.status === 200) {\r\n        console.log(response.data);\r\n          Helpers.toast(\"success\", response.data.message);\r\n      } else {\r\n          console.log(\"Not sending mail\");\r\n          Helpers.toast(\"error\", \"Error in Sending Mail \");\r\n      }\r\n  } catch (error) {\r\n      console.error(\"Error in Sending Mail \", error);\r\n      \r\n      // Check if error response indicates invalid grant\r\n      if (error.response && error.response.data && error.response.data.error === 'Refresh token is invalid, please reauthorize the application') {\r\n          // Prompt the user to reauthorize\r\n          Helpers.toast(\"error\", \"Session expired. Please reauthorize the application.\");\r\n      \r\n      } else {\r\n          Helpers.toast(\"error\", \"Error in Sending Mail \");\r\n      }\r\n  } finally {\r\n    setExpandedMailId(null);\r\n    setSelectedTemplateId(null)\r\n    setLocationId(\"\")\r\n    setStoreId(\"\")\r\n    setSelectedCollectionId(\"\")\r\n    setSelectedProductId(\"\")\r\n      setsendisLoading(false); // Ensure isLoading is set to false in finally block\r\n  }\r\n  \r\n  };\r\n\r\n  /// Filters\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [showSearch, setShowSearch] = useState(false); // Search input hidden by default\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isFilterActive, setIsFilterActive] = useState(false);\r\n  const [isDateFilterActive, setIsDateFilterActive] = useState(false);\r\n\r\n\r\n  const filteredMails = mails\r\n    .filter((mail) => {\r\n      const mailDate = new Date(mail.detail.headers?.Date);\r\n      const startOfDay = startDate\r\n        ? new Date(new Date(startDate).setHours(0, 0, 0, 0))\r\n        : null;\r\n      const endOfDay = endDate\r\n        ? new Date(new Date(endDate).setHours(23, 59, 59, 999))\r\n        : null;\r\n\r\n      const isDateFiltered =\r\n        !startOfDay ||\r\n        (mailDate >= startOfDay && (!endOfDay || mailDate <= endOfDay));\r\n      return isDateFiltered;\r\n    })\r\n    .filter((mail) => {\r\n      const lowerCaseSearchTerm = searchTerm.toLowerCase();\r\n      const isSearchTermInSnippet = mail.detail.snippet\r\n        .toLowerCase()\r\n        .includes(lowerCaseSearchTerm);\r\n      const isSearchTermInFrom =\r\n        mail.detail.headers?.From?.toLowerCase().includes(lowerCaseSearchTerm);\r\n\r\n      const isSearchFiltered = isSearchTermInSnippet || isSearchTermInFrom;\r\n      return isSearchFiltered;\r\n    });\r\n\r\n  // Update isFilterActive based on filters applied\r\n  useEffect(() => {\r\n    setIsDateFilterActive(\r\n      startDate !== null || endDate !== null || searchTerm !== \"\"\r\n    );\r\n  }, [startDate, endDate, searchTerm]);\r\n\r\n  const [showInputs, setShowInputs] = useState(false);\r\n  const [sortDirection, setSortDirection] = useState(\"desc\"); // or 'desc' for default descending\r\n  const toggleSort = () => {\r\n    // Assuming the initial sortDirection state is \"desc\"\r\n    const newSortDirection = sortDirection === \"asc\" ? \"desc\" : \"asc\";\r\n    setSortDirection(newSortDirection);\r\n\r\n    // Perform sorting\r\n    setMails((currentMails) => {\r\n      return [...currentMails].sort((a, b) => {\r\n        const dateA = new Date(a.detail.headers?.Date);\r\n        const dateB = new Date(b.detail.headers?.Date);\r\n        return newSortDirection === \"asc\" ? dateA - dateB : dateB - dateA;\r\n      });\r\n    });\r\n  };\r\n\r\n  const toggleSearchInput = () => {\r\n    setShowSearch(!showSearch); // Toggle the current state of the search input\r\n    if (showInputs) {\r\n      // If the date inputs are currently shown, hide them\r\n      setShowInputs(false);\r\n    }\r\n  };\r\n\r\n  const toggleInputs = () => {\r\n    setShowInputs(!showInputs); // Toggle the current state of the date inputs\r\n    if (showSearch) {\r\n      // If the search input is currently shown, hide it\r\n      setShowSearch(false);\r\n    }\r\n  };\r\n  const [selectedMailId, setSelectedMailId] = useState(null);\r\n  const handleSelectMail = (mailId) => {\r\n    setSelectedMailId(mailId);\r\n  };\r\n  const selectGreetingBasedOnTime = () => {\r\n    const hours = new Date().getHours();\r\n    let greeting;\r\n    if (hours < 12) {\r\n      greeting = \"Good Morning\";\r\n    } else if (hours >= 12 && hours <= 17) {\r\n      greeting = \"Good Afternoon\";\r\n    } else {\r\n      greeting = \"Good Evening\";\r\n    }\r\n    setSelectedGreetingText(greeting);\r\n  };\r\n  useEffect(() => {\r\n    selectGreetingBasedOnTime();\r\n  }, []); // The empty array ensures this effect runs once on mount\r\n  const [team, setTeam] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}getuserlist`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          setTeam(response.data.data); // Directly set the array of user objects to state\r\n        } else {\r\n          console.log(\"Error in getting user list\");\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Error\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  const [assignSuccess, setAssignSuccess] = useState(false);\r\n  const [selectedAssignIds, setSelectedAssignIds] = useState([]);\r\n\r\n  const handleAssignChange = async (selectedOptions) => {\r\n    const selectedIds = selectedOptions ? selectedOptions.map(option => option.value) : [];\r\n\r\n    console.log('selectedIds on team select', selectedIds);\r\n    setSelectedAssignIds(selectedIds);\r\n\r\n    if (!selectedIds.length) return; // Early return if no selection\r\n\r\n    const url = Helpers.apiUrl;\r\n    const token = localStorage.getItem(\"token\");\r\n      try {\r\n        console.log('message id on call handleAssignChange', messageId);\r\n\r\n        const response = await fetch(`${url}assignuser`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({\r\n            team_ids: selectedIds,\r\n            message_id: messageId,\r\n          }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          // Helpers.toast(\"success\", \"Assigned Successfully\");\r\n          console.log(data, 'assigned data comes');\r\n        } else {\r\n          throw new Error(data.error || \"Failed to assign email\");\r\n        }\r\n      } catch (error) {\r\n        // Helpers.toast(\"error\", error.message || \"An error occurred\");\r\n        console.error(\"Error:\", error);\r\n      }\r\n  };\r\n\r\n\r\n  const filterAssign = async () => {\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}getassignuser`, Helpers.authHeaders);\r\n      const assignedMessageIds = response.data.data.map(\r\n        (item) => item.message_id\r\n      );\r\n      // Now, filter emails based on assigned message IDs\r\n      const filteredMails = mails.filter((mail) =>\r\n        assignedMessageIds.includes(mail.detail.headers[\"Message-ID\"])\r\n      );\r\n      setMails(filteredMails);\r\n      setAssignSuccess(true);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error); // Log error\r\n    }\r\n  };\r\n  const [selectedMemberId, setSelectedMemberId] = useState(\"\");\r\n\r\n\r\n  const handleMemberChange = (selectedOption) => {\r\n    if (selectedOption) {\r\n      console.log(\"Selected Member ID:\", selectedOption.value);\r\n      setSelectedMemberId(selectedOption.value);\r\n      filterMember(selectedOption.value);\r\n    } else {\r\n      setSelectedMemberId(\"\"); // or handle deselecting differently if needed\r\n    }\r\n  };\r\n\r\n  // Function to filter emails based on selected member ID\r\n  const filterMember = async (memberId) => {\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}getassignuser`, Helpers.authHeaders);\r\n\r\n      // console.log(\"Get assignResponse data:\", response.data); // Log the response data\r\n      if (response.status === 200) {\r\n        const assignedData = response.data.data;\r\n        // console.log(\"Assigned Data:\", assignedData); // Debugging log\r\n\r\n        // Filter to get assigned message IDs for the selected team ID\r\n        const assignedMessageIds = assignedData\r\n          .filter((item) => String(item.team_id) === String(memberId))\r\n          .map((item) => item.message_id);\r\n\r\n        console.log(\"Assigned Message IDs:\", assignedMessageIds); // Log the filtered message IDs\r\n\r\n        // Filter the emails based on the assigned message IDs\r\n        const filteredMails = mails.filter((mail) =>\r\n          assignedMessageIds.includes(String(mail.detail.headers[\"Message-ID\"]))\r\n        );\r\n\r\n\r\n        setMails(filteredMails); // Set the filtered mails\r\n        setAssignSuccess(true); // Indicate success\r\n      } \r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      setAssignSuccess(false); // Indicate an error occurred\r\n    }\r\n  };\r\n\r\n  const [expandedMailId, setExpandedMailId] = useState(null);\r\n\r\n  const handleToggleDetails = (mailId) => {\r\n    if (expandedMailId === mailId) {\r\n      setExpandedMailId(null);\r\n    } else {\r\n      setExpandedMailId(mailId); // Expand if not expanded\r\n      setSelectedMailId(mailId);\r\n    }\r\n  };\r\n  const options = team.map((member) => ({\r\n    value: member.id,\r\n    label: member.user_name,\r\n  }));\r\n  // console.log(options,'options data');\r\n  const options1 = team.map((member) => ({\r\n    value: member.id, // make sure this is correctly populated\r\n    label: member.user_email, // and this too\r\n  }));\r\n  // console.log(options1,'options 1 data');\r\n\r\n  const customStyles1 = {\r\n    control: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: \"#D9D9D9B2\",\r\n      color: \"#ADADAD\",\r\n    }),\r\n  };\r\n  const customStyles = {\r\n    control: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: \"#E2545E\",\r\n      color: \"white\",\r\n      boxShadow: \"none\",\r\n    }),\r\n    singleValue: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // affects the selected option label\r\n    }),\r\n    placeholder: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // This will change the placeholder text color\r\n    }),\r\n    input: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // This will change the text color as you type in the search input\r\n    }),\r\n    dropdownIndicator: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // Arrow icon color\r\n    }),\r\n   \r\n    noOptionsMessage: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // No options available message color\r\n    }),\r\n    menu: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: \"#E2545E\", // Dropdown background\r\n    }),\r\n  };\r\n  const [profile, setProfile] = useState(null);\r\n  useEffect(() => {\r\n    const fetchDetail = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}profile`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          // console.log(\"API Response:\", response.data.data.profile);\r\n          setProfile(response.data.data);\r\n        } else {\r\n          // console.log(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile data:\", error);\r\n      }\r\n    };\r\n    fetchDetail();\r\n  }, []);\r\n\r\n  const toggleFilter = () => {\r\n    if (!isFilterActive) {\r\n      filterAssign(); // Apply the filter\r\n    }\r\n    setIsFilterActive(!isFilterActive); // Toggle the active state of the filter\r\n  };\r\n  const clearDateFilter = () => {\r\n    setStartDate(null);\r\n    setEndDate(null);\r\n    setSearchTerm(\"\");\r\n    setIsFilterActive(false); // Ensure this is reset when filters are cleared\r\n  };\r\n  const clearFilter = () => {\r\n    fetchData(); // Fetch initial data to reset filters\r\n    setIsFilterActive(false); // Reset the filter active state\r\n  };\r\n  const [activeIcon, setActiveIcon] = useState(null);\r\n  // const [sortDirection, setSortDirection] = useState(\"asc\");\r\n\r\n  const handleIconClick = (iconName) => {\r\n    setActiveIcon(activeIcon === iconName ? null : iconName);\r\n  };\r\n\r\n  const toggleSortDirection = () => {\r\n    setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\r\n    handleIconClick(\"sort\");\r\n  };\r\n\r\n  const iconStyle = (iconName) => ({\r\n    fontSize: \"15px\",\r\n    color: activeIcon === iconName ? \"white\" : \"#AEAEAE\",\r\n    cursor: \"pointer\",\r\n    backgroundColor: activeIcon === iconName ? \"#E2545E\" : \"transparent\",\r\n    padding: \"11px\",\r\n    borderRadius: \"5px\",\r\n    border: \"1px solid #DFE2EB\",\r\n    marginLeft: \"8px\",\r\n  });\r\n\r\n   const fetchStores = async () => {\r\n        try {\r\n            const response = await axios.get(`${Helpers.apiUrl}fetch-store`, Helpers.authHeaders);\r\n\r\n            if (response.status === 200) {\r\n                const fetchedStores = response.data.data || [];\r\n                setStores(fetchedStores);\r\n                // Helpers.toast(\"success\", \"Fetch Stores Successfully\");\r\n            } else {\r\n                setStores([]); // Set to empty array on error\r\n            }\r\n        } catch (error) {\r\n            // Helpers.toast(\"error\", \"Error fetching stores. Please try again later.\");\r\n            setStores([]); // Set to empty array on error\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchStores();\r\n    }, []);\r\n\r\n    \r\n  const [editTemplate, setEditTemplate] = useState(false);\r\n  const handleEditTemplate = () => {\r\n    setEditTemplate(!editTemplate);\r\n};\r\n  return (\r\n    <>\r\n      <div className=\"flex text-gray-900 h-[100vh] \">\r\n        <Sidebar />\r\n        <div\r\n          className=\"container \"\r\n          style={{\r\n            borderRadius: \"20px\",\r\n            background: \"#F9F9F9\",\r\n            marginTop: \"2%\",\r\n          }}\r\n        >\r\n          <div className=\"row  mt-5\">\r\n            <div className=\"col-md-4\">\r\n              <div className=\"\">\r\n                <div\r\n                  className=\"col-md-12 w-full p-4   border-gray-200 rounded-lg  sm:p-6  dark:border-gray-700\"\r\n                  style={{ maxHeight: \"100vh\", overflowY: \"auto\" }}\r\n                >\r\n                  <div className=\" d-flex\">\r\n                    <h1 className=\"text-3xl font-bold \">Inbox</h1>\r\n      \r\n           \r\n                    {isGoogle ? (\r\n                      <select\r\n                        id=\"countries\"\r\n                        className=\"bg-gray-50 rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2 dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                        style={{\r\n                          borderRadius: \"50px\",\r\n                          marginLeft: \"3%\",\r\n                          width: \"50%\",\r\n                          background: \"#F0F0F0\",\r\n                          color: \"#C2C2C2\",\r\n                        }}\r\n                        defaultValue={isGoogle.contact} // Use defaultValue or value based on your need\r\n                      >\r\n                        <option value={isGoogle.contact}>{isGoogle.contact}</option>\r\n                      </select>\r\n\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                    {isDateFilterActive ? (\r\n                      <button\r\n                        className=\"btn flex-1 py-2\"\r\n                        style={{\r\n                          background: \"#E2545E\",\r\n                          color: \"white\",\r\n                          marginLeft: \"1rem\",\r\n                        }}\r\n                        onClick={clearDateFilter}\r\n                      >\r\n                        Clear\r\n                      </button>\r\n                    ) : (\r\n                      <div><p></p></div>\r\n                    )}\r\n\r\n                    {assignSuccess ? (\r\n                      <button\r\n                        className=\"btn flex-1 py-2\"\r\n                        style={{\r\n                          background: \"#E2545E\",\r\n                          color: \"white\",\r\n                          marginLeft: \"1rem\",\r\n                        }}\r\n                        onClick={clearFilter}\r\n                      >\r\n                        Clear\r\n                      </button>\r\n                    ) : (\r\n                      <div><p></p></div>\r\n                    )}\r\n                  </div>\r\n                  {userNotFound ? (\r\n                    <div>\r\n                      {/* Uncomment and use the correct login component as needed */}\r\n                      {/* <GoogleLoginComponent onLoginSuccess={handleLoginSuccess} /> */}\r\n                      <GoogleLoginButton onLoginClick={loginWithGoogle} />\r\n                    </div>\r\n                  ) : (\r\n                    mails.length === 0 ? (\r\n                      <Loader style={{ height: '90vh' }} />\r\n                    ) : (\r\n                      <>\r\n                        <div\r\n                          className=\"pt-5 d-flex\"\r\n                          style={{ width: \"100%\", position: \"static\" }}\r\n                        >\r\n                          {/* <div style={{ flex: \"1\" }}>\r\n                            <Select\r\n                              styles={customStyles}\r\n                              options={mails.length === 0 ? [] : options1}\r\n                              placeholder=\"All Users\"\r\n                              onChange={mails.length === 0 ? null : handleMemberChange}\r\n                              isClearable={true}\r\n                              style={{ color: \"white\" }}\r\n                              isSearchable={true}\r\n                            />\r\n                          </div> */}\r\n                          <div\r\n                            className=\"icons flex ml-5\"\r\n                            style={{ flex: \"0 0 auto\" }}\r\n                          >\r\n                            <div onClick={() => handleIconClick(\"calendar\")}>\r\n                              <i\r\n                                className=\"fa-light fa-calendar-range\"\r\n                                style={iconStyle(\"calendar\")}\r\n                                title=\"Calendar\"\r\n                                onClick={toggleInputs}\r\n                              ></i>\r\n                            </div>\r\n                            <div onClick={() => handleIconClick(\"search\")}>\r\n                              <i\r\n                                className=\"fa-light fa-magnifying-glass\"\r\n                                style={iconStyle(\"search\")}\r\n                                title=\"Search\"\r\n                                onClick={toggleSearchInput}\r\n                              ></i>\r\n                            </div>\r\n                            <div onClick={toggleSortDirection}>\r\n                              <i\r\n                                className={`fa-sharp fa-light ${sortDirection === \"asc\" ? \"fa-arrow-up-arrow-down\" : \"fa-arrow-down-arrow-up\"}`}\r\n                                style={iconStyle(\"sort\")}\r\n                                title={`Sort ${sortDirection === \"asc\" ? \"Ascending\" : \"Descending\"}`}\r\n                                onClick={toggleSort}\r\n                              ></i>\r\n                            </div>\r\n                            <div\r\n                              className=\"icon-wrapper rounded p-3 border border-gray-300 ml-2\"\r\n                              style={{\r\n                                cursor: \"pointer\",\r\n                                color: isFilterActive ? \"white\" : \"#AEAEAE\",\r\n                                backgroundColor: isFilterActive ? \"#E2545E\" : \"transparent\",\r\n                              }}\r\n                              title=\"Filter\"\r\n                              onClick={toggleFilter}\r\n                            >\r\n                              <i\r\n                                className=\"fa-light fa-circle-check\"\r\n                                style={{ fontSize: \"15px\" }}\r\n                              ></i>\r\n                            </div>\r\n                            <GoogleLoginComponent  />\r\n                            {/* Uncomment and use the correct login button as needed */}\r\n                            {/* <div\r\n                              className=\"icon-wrapper rounded p-3 border border-gray-300 ml-2\"\r\n                              style={{\r\n                                cursor: \"pointer\",\r\n                              }}\r\n                              title=\"Connect With Gmail\"\r\n                              onClick={loginWithGoogle}\r\n                            >\r\n                              <i\r\n                                className=\"fa-light fa-refresh\"\r\n                                style={{ fontSize: \"15px\", color: \"#AEAEAE\" }}\r\n                              ></i>\r\n                            </div> */}\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-center items-center space-x-4\">\r\n                          {showInputs && (\r\n                            <div\r\n                              className=\"pt-5 d-flex\"\r\n                              style={{ width: \"100%\" }}\r\n                            >\r\n                              <div className=\"flex\" style={{ flex: \"1\" }}>\r\n                                <div\r\n                                  className=\"p-2 flex\"\r\n                                  style={{ flex: \"1\" }}\r\n                                >\r\n                                  <input\r\n                                    type=\"date\"\r\n                                    value={startDate ? startDate.toISOString().substring(0, 10) : \"\"}\r\n                                    onChange={(e) =>\r\n                                      setStartDate(e.target.value ? new Date(e.target.value) : null)\r\n                                    }\r\n                                    placeholder=\"Select start date\"\r\n                                    style={{\r\n                                      padding: \"5%\",\r\n                                      width: \"100%\",\r\n                                      borderRadius: \"30px\",\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                                <div className=\"p-2 flex\" style={{ flex: \"1\" }}>\r\n                                  <input\r\n                                    type=\"date\"\r\n                                    value={endDate ? endDate.toISOString().substring(0, 10) : \"\"}\r\n                                    onChange={(e) =>\r\n                                      setEndDate(e.target.value ? new Date(e.target.value) : null)\r\n                                    }\r\n                                    placeholder=\"Select end date\"\r\n                                    style={{\r\n                                      padding: \"5%\",\r\n                                      width: \"100%\",\r\n                                      borderRadius: \"30px\",\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          {showSearch && (\r\n                            <input\r\n                              type=\"text\"\r\n                              value={searchTerm}\r\n                              onChange={(e) => setSearchTerm(e.target.value)}\r\n                              placeholder=\"Search mails\"\r\n                              className=\"search-input-class\"\r\n                              style={{\r\n                                width: \"100%\",\r\n                                padding: \"2%\",\r\n                                marginTop: \"2%\",\r\n                              }}\r\n                            />\r\n                          )}\r\n                        </div>\r\n                        {filteredMails.length === 0 && !userNotFound ? (\r\n                          <div style={{ padding: \"25%\" }}>\r\n                            <img\r\n                              src=\"/media/no_result_found.png\"\r\n                              alt=\"No results found\"\r\n                            />\r\n                          </div>\r\n                        ) : (\r\n                          filteredMails.map((mail, index) => (\r\n                            <div key={mail.detail.headers?.[\"Message-ID\"] || index}>\r\n                              <ul className=\"my-5 space-y-3 shadow\" style={{ borderRadius: \"50px\" }}>\r\n                                <li\r\n                                  key={mail.detail.id}\r\n                                  className={`rounded-lg ${\r\n                                    mail.detail.headers &&\r\n                                    selectedMailId === mail.detail.headers[\"Message-ID\"]\r\n                                      ? \"selected-outline\"\r\n                                      : \"\"\r\n                                  }`}\r\n                                >\r\n                                  <Link\r\n                                    to={`/user/dashboard/${mail.detail.headers?.[\"Message-ID\"]}`}\r\n                                    className=\"flex items-center p-3 bg-white text-base font-bold text-gray-900 rounded-lg hover:bg-gray-100 group hover:shadow dark:hover:bg-gray-100 dark:text-white\"\r\n                                    onClick={() => handleToggleDetails(mail.detail.headers?.[\"Message-ID\"])}\r\n                                  >\r\n                                    {/* <img\r\n                                      src=\"/media/avatars/300-1.jpg\"\r\n                                      alt=\"\"\r\n                                      className=\"w-12 h-12 rounded-full\"\r\n                                      style={{\r\n                                        width: \"50px\",\r\n                                        height: \"50px\",\r\n                                        borderRadius: \"10px\",\r\n                                      }}\r\n                                    /> */}\r\n                                    <div className=\"flex flex-col flex-grow ms-3\">\r\n                                      <div className=\"flex\">\r\n                                        <span>\r\n                                          {mail.detail.headers?.From ? mail.detail.headers.From.split(\" <\")[0] : \"Unknown Sender\"}\r\n                                        </span>\r\n                                        {assignSuccess ? (\r\n                                          <i\r\n                                            className=\"fa-light fa-circle-check\"\r\n                                            style={{\r\n                                              fontSize: \"15px\",\r\n                                              color: \"green\",\r\n                                              cursor: \"pointer\",\r\n                                              marginLeft: \"3%\",\r\n                                              marginTop: \"0%\",\r\n                                            }}\r\n                                          ></i>\r\n                                        ) : (\r\n                                          \"\"\r\n                                        )}\r\n                                      </div>\r\n                                      <small className=\"text-xs\" style={{ color: \"#C2C2C2\" }}>\r\n                                        {mail.detail.headers?.Date || \"\"}\r\n                                      </small>\r\n                                      <p\r\n                                        className=\"text-xs\"\r\n                                        style={{\r\n                                          color: \"#C2C2C2\",\r\n                                          width: \"100%\",\r\n                                        }}\r\n                                      >\r\n                                        {mail.detail.headers?.Subject || \"No Subject\"}\r\n                                      </p>\r\n                                    </div>\r\n                                    <i\r\n                                      className={`fa-solid ${\r\n                                        expandedMailId === mail.detail.headers?.[\"Message-ID\"]\r\n                                          ? \"fa-caret-up\"\r\n                                          : \"fa-caret-down\"\r\n                                      } ml-auto text-gray-500`}\r\n                                    ></i>\r\n                                  </Link>\r\n                                  {expandedMailId === mail.detail.headers?.[\"Message-ID\"] && (\r\n                                    <div className=\"bg-white p-3 rounded-lg\">\r\n                                      <p className=\"text-xs\">\r\n                                        {\"Message:- \"}\r\n                                        {mail.detail.snippet || \"No snippet available\"}\r\n                                      </p>\r\n                                      <p className=\"text-xs\">\r\n                                        {\"Received:- \"}\r\n                                        {mail.detail.headers?.Date || \"No date available\"}\r\n                                      </p>\r\n                                    </div>\r\n                                  )}\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                          ))\r\n                        )}\r\n                      </>\r\n                    )\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <div\r\n                className=\"card bg-white p-4 border border-gray-200 rounded-lg shadow sm:p-6\"\r\n                style={{ maxHeight: \"90vh\", overflowY: \"auto\" }}\r\n              >\r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    CC\r\n                  </h1>\r\n                  {userNotFound ? (\r\n                    <Select\r\n                      style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                      className=\"basic-single mt-3\"\r\n                      classNamePrefix=\"select\"\r\n                      styles={customStyles1}\r\n                      placeholder=\"Select a team member\"\r\n                      isDisabled={expandedMailId === null ? true : false}\r\n                    />\r\n                  ) : (\r\n                    <Select\r\n                      style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                      className=\"basic-single mt-3\"\r\n                      classNamePrefix=\"select\"\r\n                      defaultValue={options[0]}\r\n                      isClearable={true}\r\n                      isSearchable={true}\r\n                      styles={customStyles1}\r\n                      name=\"teamSelect\"\r\n                      isMulti\r\n                      options={options} // Your options array here\r\n                      onChange={handleAssignChange}\r\n                      placeholder=\"Select a team member\"\r\n                      isDisabled={expandedMailId === null ? true : false}\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Choose Template\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    onChange={handleTemplateChange}\r\n                    value={selectedTemplateId || \"\"}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n\r\n                    <option value=\"\" disabled>Select Template</option>\r\n                    {templates.map((template) => (\r\n                      <option key={template.id} value={template.id}>\r\n                        {template.template_name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n                </div>\r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Location\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    onChange={(e) => handleLocationButton(e.target.value)}\r\n                    value={locationId || \"\"}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n                    <option value=\"\" disabled>Select Location</option>\r\n                    {locations.map((location) => (\r\n                      <option key={location.id} value={location.location}>\r\n                        {location.location}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n\r\n                </div>\r\n                \r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Stores\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    onChange={(e) => handleStoreButton(e.target.value)}\r\n                    value={storeId || \"\"}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n                    <option value=\"\" disabled>Select Store</option>\r\n                    {stores.map((store) => (\r\n                      <option key={store.id} value={store.name}>\r\n                        {store.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              \r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Collections\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    value={selectedCollectionId}\r\n                    onChange={handleSelectionChange}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n                    <option value=\"\">Select a collection</option>\r\n                    {collections.map((collection) => (\r\n                      <option key={collection.id} value={collection.id}>\r\n                        {collection.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                {selectedCollectionId && filteredProducts.length > 0 && (\r\n                  <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\">\r\n                    <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                      Model Number\r\n                    </h1>\r\n                    <select\r\n                      className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                      value={selectedProductId}\r\n                      onChange={handleProductChange}\r\n                      style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    >\r\n                      <option value=\"\">Select a model</option>\r\n                      {filteredProducts.map((product) => (\r\n                        <option key={product.id} value={product.id}>\r\n                          {product.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-4 \">\r\n              <div\r\n                className=\"card\"\r\n                style={{ maxHeight: \"90vh\", overflowY: \"auto\" }}\r\n              >\r\n          \r\n                {selectedTemplateId ? (\r\n                  <div className=\"col-md-12 w-full p-2 bg-white border-gray-200 rounded-lg sm:p-6 dark:bg-gray-800 dark:border-gray-700\">\r\n                    <div className=\"card shadow-none\">\r\n                      <div className=\"p-3\">\r\n                        {!editTemplate&&(\r\n                          <p\r\n                            className=\"small text-dark\"\r\n                            style={{ whiteSpace: \"pre-wrap\" }}\r\n                          >\r\n                              <div\r\n                                dangerouslySetInnerHTML={{__html: finalTemplate,}}\r\n                              />\r\n                          </p>\r\n                        )}                          \r\n                        {editTemplate&&(\r\n                            <textarea  \r\n                              value={finalTemplate}\r\n                              onChange={handleFinalTemplateChange}                            \r\n                              style={{ whiteSpace: \"pre-wrap\", width:\"100%\",height:\"80vh\",\r\n                                border:\"1px solid black\",borderRadius:\"10px\",padding:\"5%\" }}\r\n                            />\r\n                          )}\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"flex-end\",\r\n                          marginBottom: \"3%\",\r\n                          marginRight: \"3%\",\r\n                        }}\r\n                      >\r\n                        <form onSubmit={handleEmailSend}>\r\n                          <button\r\n                              type=\"button\"\r\n                              className=\"btn flex-1 py-2\"\r\n                              onClick={handleEditTemplate}\r\n                              style={{\r\n                                background: \"#E2545E\",\r\n                                color: \"white\",\r\n                                marginLeft: \"1rem\",\r\n                              }}\r\n                            >\r\n                              {editTemplate ? \"View\" : \"Edit\"}\r\n                            </button>\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"btn flex-1 py-2\"\r\n                            style={{\r\n                              background: \"#E2545E\",\r\n                              color: \"white\",\r\n                              marginLeft: \"1rem\",\r\n                            }}\r\n                            disabled={sendisLoading}\r\n                          >\r\n                            {sendisLoading ? \"Please Wait...\" : \"Send\"}\r\n                          </button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ padding: \"30%\" }}>\r\n                    <img\r\n                      src=\"/media/result.png\"\r\n                      alt=\"No template selected\"\r\n                      style={{ width: \"100%\" }}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        alignItems: \"center\",\r\n                        textAlign: \"center\",\r\n                        paddingTop: \"8%\",\r\n                        paddingBottom: \"5%\",\r\n                      }}\r\n                    >\r\n                      Please Choose the template\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default  Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}