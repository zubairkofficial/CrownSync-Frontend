{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Sidebar from\"./../../Components/Sidebar\";import{Link}from\"react-router-dom\";import{useParams}from\"react-router-dom\";import Helpers from\"./../../Config/Helpers\";import axios from\"axios\";import Select from\"react-select\";import{useNavigate}from\"react-router-dom\";import\"react-datepicker/dist/react-datepicker.css\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import GoogleLoginComponent from\"../Admin/Components/GoogleLoginComponent\";import GoogleLoginButton from\"../Admin/Components/GoogleLoginButton\";import Loader from\"../Admin/Components/Loader\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Home=()=>{useEffect(()=>{document.title=\"Home - Crownsync AI\";return()=>{document.title=\"Crownsync Ai\";};},[]);const[isAuthenticated,setIsAuthenticated]=useState(false);const[isLoading,setIsLoading]=useState(false);const[mails,setMails]=useState([]);const[isGoogle,setIsGoogle]=useState(null);const[userNotFound,setUserNotFound]=useState(true);const[loading,setLoading]=useState(true);const userJson=localStorage.getItem(\"user\");const user=JSON.parse(userJson);const userEmail=user?user.email:null;const[emailData,setEmailData]=useState(null);let{messageId}=useParams();useEffect(()=>{// const asyncOperations = [\n//     new Promise((resolve) => setTimeout(resolve, 1000)), // Example async operation 1\n//     new Promise((resolve) => setTimeout(resolve, 2000)), // Example async operation 2\n//     new Promise((resolve) => setTimeout(resolve, 3000)), // Example async operation 3\n// ];\n// Promise.all(asyncOperations)\n//     .then(() => {\n//         setLoading(false);\n//         Helpers.toast(\"success\", \"Page is ready now\");\n//     });\n},[]);const url=Helpers.apiUrl;const handleLoginSuccess=response=>{// alert(response);\n// console.log('Login Response:', response);\n};useEffect(()=>{const fetchDetail=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"check-login\"),Helpers.authHeaders);if(response.status===200&&response.data.data){setIsGoogle(response.data.data);setUserNotFound(false);}else{setIsGoogle(null);setUserNotFound(true);}}catch(error){if(error.response&&error.response.status===404){// Handle user not found\nsetUserNotFound(true);setIsGoogle(null);}else{// Handle other errors\nconsole.error(\"Error fetching details:\",error);}}};fetchDetail();},[]);const loginWithGoogle=()=>{// Retrieve the user data from localStorage\nconst userString=localStorage.getItem('user');// Parse it into an object, if the data is not null\nlet user=null;if(userString){try{user=JSON.parse(userString);}catch(error){console.error('Error parsing user data:',error);}}// Access and log the user id\nif(user&&user.id){console.log('User ID:',user.id);}else{console.log('User data is missing or does not contain an id.');}const userId=localStorage.getItem('user_id');// Retrieve the stored user ID\nconst backendURL=Helpers.backendUrl;window.location.href=\"\".concat(backendURL,\"auth/redirect?userId=\").concat(user.id);// Pass only the user ID\n};const fetchData=async()=>{setIsLoading(true);try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"email-messages\"),Helpers.authHeaders);if(response.status===200){const emails=response.data.data.map(email=>{try{// Assuming email.detail is a JSON string that needs parsing\nreturn{...email,detail:JSON.parse(email.detail)};}catch(e){console.error(\"Failed to parse email detail for email with ID:\",email.id);return{...email,detail:{}};// Provide empty detail in case of parsing failure\n}});setMails(emails);setAssignSuccess(false);}else{console.log(\"Received non-200 response:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);if(error.response&&error.response.status===401){setIsAuthenticated(false);// Assuming you meant to set false here\n}else{setIsAuthenticated(true);// You can decide the correct logic\n}}finally{setIsLoading(false);}};// useEffect to call fetchData on component mount\nuseEffect(()=>{fetchData();},[]);useEffect(()=>{const fetchData=async()=>{setIsLoading(true);try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"email-messages\"),Helpers.authHeaders);if(response.status===200){console.log('mail data comes',response.data);const emails=response.data.data.map(email=>{try{// Assuming email.detail is a JSON string that needs parsing\nreturn{...email,detail:JSON.parse(email.detail)};}catch(e){console.error(\"Failed to parse email detail for email with ID:\",email.id,e);return{...email,detail:{}};// Provide empty detail in case of parsing failure\n}});const emailMessage=emails.find(email=>email.detail.headers&&email.detail.headers[\"Message-ID\"]===messageId);console.log('message id down',messageId);if(emailMessage){setEmailData(emailMessage);// console.log(\"Email data:\", emailMessage);\n}else{console.log(\"Email with messageId not found.\");}}else{console.log(\"Received non-200 response:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);// Handle error\nif(error.response){// Server responded with a status code outside 2xx range\nconsole.error(\"Error data:\",error.response.data);console.error(\"Error status:\",error.response.status);}else if(error.request){// No response was received to the request\nconsole.error(\"No response received:\",error.request);}else{// An error occurred in setting up the request\nconsole.error(\"Error message:\",error.message);}}finally{setIsLoading(false);}};fetchData();},[messageId]);// Fetch data whenever messageId changes\nconst[templates,setTemplates]=useState([]);const[selectedTemplateId,setSelectedTemplateId]=useState(null);const[finalTemplate,setFinalTemplate]=useState(\"\");const handleTemplateChange=event=>{setLocationId(\"\");setSelectedTemplateId(event.target.value);};const handleFinalTemplateChange=event=>{setFinalTemplate(event.target.value);};const[products,setProducts]=useState([]);const[locations,setLocations]=useState([]);useEffect(()=>{const fetchLocations=async()=>{setIsLoading(true);try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"fetch-locations\"),Helpers.authHeaders);if(response.status===200&&Array.isArray(response.data.data)){// console.log('location data',response.data.data);\nsetLocations(response.data.data);}else{console.error(\"Received non-200 response:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);}finally{setIsLoading(false);}};fetchLocations();},[]);useEffect(()=>{const fetchData=async()=>{setIsLoading(true);try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"rolex_models\"),Helpers.authHeaders);if(response.status===200&&Array.isArray(response.data.data)){setProducts(response.data.data);}else{console.error(\"Received non-200 response:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);}finally{setIsLoading(false);}};fetchData();},[]);//location\nconst[collections,setCollections]=useState([]);const[allProducts,setAllProducts]=useState([]);const[selectedCollectionId,setSelectedCollectionId]=useState(\"\");const[selectedProductId,setSelectedProductId]=useState(\"\");const[filteredProducts,setFilteredProducts]=useState([]);// For passing store Id\nconst[storeId,setStoreId]=useState(\"\");const handleStoreButton=store=>{setStoreId(store);};const[stores,setStores]=useState([]);// For passing location Id\nconst[locationId,setLocationId]=useState(\"\");const handleLocationButton=location=>{setLocationId(location);};useEffect(()=>{if(locationId!==\"\"||storeId!==\"\"){updateTemplate();}},[locationId,storeId]);useEffect(()=>{const fetchCollections=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"collects\"),Helpers.authHeaders);if(response.status===200){setCollections(response.data.data);}else{console.error(\"Received non-200 response:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);handleAPIError(error);}};const fetchProducts=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"rolex_models\"),Helpers.authHeaders);if(response.status===200){setAllProducts(response.data.data);}else{console.error(\"Received non-200 response:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);handleAPIError(error);}};fetchCollections();fetchProducts();},[]);useEffect(()=>{if(selectedCollectionId){const filtered=allProducts.filter(product=>String(product.collection_id)===String(selectedCollectionId));setFilteredProducts(filtered);}else{setFilteredProducts([]);}},[selectedCollectionId,allProducts]);const handleSelectionChange=event=>{setSelectedCollectionId(event.target.value);setSelectedProductId(\"\");// Reset the product selection\n};const handleProductChange=event=>{const newProductId=event.target.value;setSelectedProductId(newProductId);const product=filteredProducts.find(p=>String(p.id)===String(newProductId));setSelectedProduct(product);};const handleAPIError=error=>{if(error.response){console.error(\"Error data:\",error.response.data);console.error(\"Error status:\",error.response.status);}else if(error.request){console.error(\"No response received:\",error.request);}else{console.error(\"Error message:\",error.message);}};useEffect(()=>{const filtered=allProducts.filter(product=>{const productCollectionId=String(product.collection_id);const isSelectedCollectionId=String(selectedCollectionId);return productCollectionId===isSelectedCollectionId;});// console.log(\"Filtered Products:\", filtered);\nsetFilteredProducts(filtered);},[selectedCollectionId,allProducts]);const[selectedProduct,setSelectedProduct]=useState(null);useEffect(()=>{// This effect keeps the selectedProduct state in sync with the selectedProductId state\nif(selectedProductId!==\"\"){const product=filteredProducts.find(p=>String(p.id)===String(selectedProductId));setSelectedProduct(product);}else{setSelectedProduct(null);}},[selectedProductId,filteredProducts]);const getTemplates=async()=>{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"admin/mail_templates\"),Helpers.authHeaders);if(response.status===200){setTemplates(response.data.data);// console.log('my templates',response.data.data);\n}};const updateTemplate=()=>{if(selectedTemplateId){var _emailData$detail$hea;const templateToUpdate=templates.find(temp=>temp.id===parseInt(selectedTemplateId));if(!templateToUpdate){console.error('Template with the given ID was not found.');return;}const username=localStorage.getItem(\"user\");const user=JSON.parse(username);const userName=user?user.name:\"\";const replacements={'MyName':userName||\"\",'ClientName':((_emailData$detail$hea=emailData.detail.headers[\"From\"].match(/^(.*?)\\s*<(.*)>$/))===null||_emailData$detail$hea===void 0?void 0:_emailData$detail$hea[1])||\"\",'Model':(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.name)||\"\",'Price':(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.price)||\"\",'Stock':(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.stock)||\"\",'Link':(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.link)||\"\",'Features':(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.features)||\"\",// 'Store': selectedProduct?.store || \"\",\n'Store':storeId||\"\",// 'Location': selectedProduct?.location || \"\",\n'Location':locationId||\"\",'Benefits':(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.benefits)||\"\",'MyEmail':(isGoogle===null||isGoogle===void 0?void 0:isGoogle.contact)||\"\",'MyPhone':(profile===null||profile===void 0?void 0:profile.phone)||\"\",'Address':(profile===null||profile===void 0?void 0:profile.address)||\"\",'Collection':selectedProduct!==null&&selectedProduct!==void 0&&selectedProduct.collection_id?selectedProduct.collection_name:\"\",'Image':selectedProduct!==null&&selectedProduct!==void 0&&selectedProduct.image?\"<img src=\\\"\".concat(selectedProduct.image,\"\\\" alt=\\\"\").concat(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.name,\"\\\" style=\\\"max-width: 100%; height: 200px; align-items: center; text-align: center; display: flex; justify-content: center; />\"):\"\"};// Apply replacements, replacing placeholders with empty strings for empty fields\nlet updatedTemplate=templateToUpdate.heading;for(const[key,value]of Object.entries(replacements)){if(value!==\"\"){// Only replace placeholders with actual values\nupdatedTemplate=updatedTemplate.replace(new RegExp(\"\\\\[\".concat(key,\"\\\\]\"),'gi'),value);}else{// If the value is empty, replace the placeholder with an empty string\nupdatedTemplate=updatedTemplate.replace(new RegExp(\"\\\\[\".concat(key,\"\\\\]\"),'gi'),'');}}setFinalTemplate(updatedTemplate);}};useEffect(()=>{updateTemplate();},[selectedProductId,emailData,selectedTemplateId,selectedCollectionId]);useEffect(()=>{getTemplates();},[]);useEffect(()=>{const fetchData=async()=>{// console.log(\"Called\");\nconst username=localStorage.getItem(\"user\");const user=JSON.parse(username);const userName=user?user.name:\"Customer\";setIsLoading(true);try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"admin/mail_templates\"),Helpers.authHeaders);const modelName=selectedProduct&&selectedProduct.name?selectedProduct.name:\"[]\";const modelPrice=selectedProduct&&selectedProduct.price?selectedProduct.price:\"[]\";const modelStock=selectedProduct&&selectedProduct.stock?selectedProduct.stock:\"[]\";const modelLink=selectedProduct&&selectedProduct.link?selectedProduct.link:\"[]\";const modelFeature=selectedProduct&&selectedProduct.features?selectedProduct.features:\"[]\";const modelStore=selectedProduct&&selectedProduct.store?selectedProduct.store:\"[]\";const modelLocation=selectedProduct&&selectedProduct.location?selectedProduct.location:\"[]\";const modelBenefit=selectedProduct&&selectedProduct.benefits?selectedProduct.benefits:\"[]\";const mycollection=selectedProduct&&selectedProduct.collection_id?selectedProduct.collection_name:\"[]\";// console.log(\"asdfcxe\", mycollection);\nconst imageHtml=selectedProduct&&selectedProduct.image?\"<img src=\\\"\".concat(Helpers.basePath,\"/assets/\").concat(selectedProduct.image,\"\\\" alt=\\\"\").concat(selectedProduct.name,\"\\\" style=\\\"max-width: 100%; height: 200px; align-items: center;text-align:center;display:flex;justify-content:center;margin-left:10%\\\" />\"):\"[]\";const fromField=emailData.detail.headers[\"From\"];const match=fromField.match(/^(.*?)\\s*<(.*)>$/);const reciever_name=match?match[1]:\"\";const sender_email=isGoogle?isGoogle.contact:\"\";const sender_phone=profile?profile.phone:\"\";const sender_address=profile?profile.address:\"\";if(response.status===200){const modifiedTemplates=response.data.data.map(template=>{const greetingUpdated=template.heading.replace(/\\[SenderName\\]/gi,userName).replace(/\\[ReceiverName\\]/gi,reciever_name).replace(/\\[Model\\]/gi,modelName).replace(/\\[Price\\]/gi,modelPrice).replace(/\\[Stock\\]/gi,modelStock).replace(/\\[Link\\]/gi,modelLink).replace(/\\[Features\\]/gi,modelFeature).replace(/\\[Store\\]/gi,modelStore).replace(/\\[Location\\]/gi,modelLocation).replace(/\\[Benefits\\]/gi,modelBenefit).replace(/\\[SenderEmail\\]/gi,sender_email).replace(/\\[SenderPhone\\]/gi,sender_phone).replace(/\\[SenderAddress\\]/gi,sender_address).replace(/\\[Collection\\]/gi,mycollection).replace(/\\[Image\\]/gi,imageHtml);return{...template,heading:greetingUpdated};});setTemplates(modifiedTemplates);}else{// console.log(\"Received non-200 response:\", response.status);\n}}catch(error){console.error(\"An error occurred:\",error);}finally{setIsLoading(false);}};// fetchData();\n},[selectedProductId,emailData,selectedTemplateId,selectedCollectionId]);// For passing data in email preview section\nconst[selectedGreetingText,setSelectedGreetingText]=useState(\"\");const handleGreetingButton=greetingText=>{setSelectedGreetingText(greetingText);console.log(greetingText);// Now this directly logs the greetings text\n};const[stock,setStock]=useState(\"\");const handleStockChange=status=>{setStock(status);// console.log(stock);\n};// console.log(\"SELECTED MAIL\", emailData);\nconst[showPreview,setShowPreview]=useState(false);// New state for toggling the preview\nconst handleProceed=()=>{// Toggle the visibility of the email preview section\nsetShowPreview(true);// console.log(showPreview);\n};const[resposne,setResponse]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();const username=localStorage.getItem(\"user\");const user=JSON.parse(username);const myuser=user?user.name:null;const myemail=user?user.email:null;const fromField=emailData.detail.headers[\"From\"];const match=fromField.match(/^(.*?)\\s*<(.*)>$/);const reciever_name=match?match[1]:\"\";// This would be \"GitHub\"\n// console.log(reciever_name);\nconst reciever_email=match?match[2]:fromField;// console.log(reciever_email);\nconst payload={email_address:myemail,greeting:selectedGreetingText,reciever_name,reciever_email,template_id:selectedTemplateId,product_id:selectedProductId,responder_name:myuser};try{const response=await axios.post(\"\".concat(Helpers.apiUrl,\"email-preview\"),payload,Helpers.authHeaders);if(response.status===200){setResponse(response.data.body);Helpers.toast(\"success\",\"Operation Successful\");}else{console.log(\"Operation not successful, response status:\",response.status);}}catch(error){console.error(\"An error occurred:\",error);}};const[sendisLoading,setsendisLoading]=useState(false);const handleEmailSend=async e=>{e.preventDefault();setsendisLoading(true);const fromField=emailData.detail.headers[\"From\"];const received_message=emailData.detail.snippet;const match=fromField.match(/^(.*?)\\s*<(.*)>$/);const reply_to=match?match[2]:fromField;const fromField1=emailData.detail.headers[\"From\"];const match1=fromField1.match(/^(.*?)\\s*<(.*)>$/);const reciever_name=match1?match1[1]:\"\";// This would be \"GitHub\"\n// console.log(\"asdfvcxyh\", reciever_name);\nconst reciever_email=match?match[2]:fromField1;// console.log(reciever_email);\nconst asseignedTeamIds=selectedAssignIds;//  alert(asseignedTeamIds);\nconst formData={// template_id: selectedTemplateId,\n// product_id: selectedProductId,\ngreeting:selectedGreetingText,response:resposne,// You need to define what this response should be.\nreply_to:reply_to,received_message:received_message,responder_name:profile.name,responder_mail:isGoogle.contact,// sender_phone: profile.phone,\n// sender_address: profile.address,\nreciever_name:reciever_name,reciever_email:reciever_email,assigned_team_ids:asseignedTeamIds,subject:profile.name,message:finalTemplate// store:storeId,\n// location:locationId\n};try{const response=await axios.post(\"\".concat(Helpers.apiUrl,\"gmail/send-email\"),formData,Helpers.authHeaders);console.log(response);if(response.status===200){console.log(response.data);Helpers.toast(\"success\",response.data.message);}else{console.log(\"Not sending mail\");Helpers.toast(\"error\",\"Error in Sending Mail \");}}catch(error){console.error(\"Error in Sending Mail \",error);// Check if error response indicates invalid grant\nif(error.response&&error.response.data&&error.response.data.error==='Refresh token is invalid, please reauthorize the application'){// Prompt the user to reauthorize\nHelpers.toast(\"error\",\"Session expired. Please reauthorize the application.\");}else{Helpers.toast(\"error\",\"Error in Sending Mail \");}}finally{setExpandedMailId(null);setSelectedTemplateId(null);setLocationId(\"\");setStoreId(\"\");setSelectedCollectionId(\"\");setSelectedProductId(\"\");setsendisLoading(false);// Ensure isLoading is set to false in finally block\n}};/// Filters\nconst[startDate,setStartDate]=useState(null);const[endDate,setEndDate]=useState(null);const[showSearch,setShowSearch]=useState(false);// Search input hidden by default\nconst[searchTerm,setSearchTerm]=useState(\"\");const[isFilterActive,setIsFilterActive]=useState(false);const[isDateFilterActive,setIsDateFilterActive]=useState(false);const filteredMails=mails.filter(mail=>{var _mail$detail$headers;const mailDate=new Date((_mail$detail$headers=mail.detail.headers)===null||_mail$detail$headers===void 0?void 0:_mail$detail$headers.Date);const startOfDay=startDate?new Date(new Date(startDate).setHours(0,0,0,0)):null;const endOfDay=endDate?new Date(new Date(endDate).setHours(23,59,59,999)):null;const isDateFiltered=!startOfDay||mailDate>=startOfDay&&(!endOfDay||mailDate<=endOfDay);return isDateFiltered;}).filter(mail=>{var _mail$detail$headers2,_mail$detail$headers3;const lowerCaseSearchTerm=searchTerm.toLowerCase();const isSearchTermInSnippet=mail.detail.snippet.toLowerCase().includes(lowerCaseSearchTerm);const isSearchTermInFrom=(_mail$detail$headers2=mail.detail.headers)===null||_mail$detail$headers2===void 0?void 0:(_mail$detail$headers3=_mail$detail$headers2.From)===null||_mail$detail$headers3===void 0?void 0:_mail$detail$headers3.toLowerCase().includes(lowerCaseSearchTerm);const isSearchFiltered=isSearchTermInSnippet||isSearchTermInFrom;return isSearchFiltered;});// Update isFilterActive based on filters applied\nuseEffect(()=>{setIsDateFilterActive(startDate!==null||endDate!==null||searchTerm!==\"\");},[startDate,endDate,searchTerm]);const[showInputs,setShowInputs]=useState(false);const[sortDirection,setSortDirection]=useState(\"desc\");// or 'desc' for default descending\nconst toggleSort=()=>{// Assuming the initial sortDirection state is \"desc\"\nconst newSortDirection=sortDirection===\"asc\"?\"desc\":\"asc\";setSortDirection(newSortDirection);// Perform sorting\nsetMails(currentMails=>{return[...currentMails].sort((a,b)=>{var _a$detail$headers,_b$detail$headers;const dateA=new Date((_a$detail$headers=a.detail.headers)===null||_a$detail$headers===void 0?void 0:_a$detail$headers.Date);const dateB=new Date((_b$detail$headers=b.detail.headers)===null||_b$detail$headers===void 0?void 0:_b$detail$headers.Date);return newSortDirection===\"asc\"?dateA-dateB:dateB-dateA;});});};const toggleSearchInput=()=>{setShowSearch(!showSearch);// Toggle the current state of the search input\nif(showInputs){// If the date inputs are currently shown, hide them\nsetShowInputs(false);}};const toggleInputs=()=>{setShowInputs(!showInputs);// Toggle the current state of the date inputs\nif(showSearch){// If the search input is currently shown, hide it\nsetShowSearch(false);}};const[selectedMailId,setSelectedMailId]=useState(null);const handleSelectMail=mailId=>{setSelectedMailId(mailId);};const selectGreetingBasedOnTime=()=>{const hours=new Date().getHours();let greeting;if(hours<12){greeting=\"Good Morning\";}else if(hours>=12&&hours<=17){greeting=\"Good Afternoon\";}else{greeting=\"Good Evening\";}setSelectedGreetingText(greeting);};useEffect(()=>{selectGreetingBasedOnTime();},[]);// The empty array ensures this effect runs once on mount\nconst[team,setTeam]=useState([]);useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"getuserlist\"),Helpers.authHeaders);if(response.status===200){setTeam(response.data.data);// Directly set the array of user objects to state\n}else{console.log(\"Error in getting user list\");}}catch(error){console.log(\"Error\",error);}};fetchData();},[]);const[assignSuccess,setAssignSuccess]=useState(false);const[selectedAssignIds,setSelectedAssignIds]=useState([]);const handleAssignChange=async selectedOptions=>{const selectedIds=selectedOptions?selectedOptions.map(option=>option.value):[];console.log('selectedIds on team select',selectedIds);setSelectedAssignIds(selectedIds);if(!selectedIds.length)return;// Early return if no selection\nconst url=Helpers.apiUrl;const token=localStorage.getItem(\"token\");try{console.log('message id on call handleAssignChange',messageId);const response=await fetch(\"\".concat(url,\"assignuser\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({team_ids:selectedIds,message_id:messageId})});const data=await response.json();if(response.ok){// Helpers.toast(\"success\", \"Assigned Successfully\");\nconsole.log(data,'assigned data comes');}else{throw new Error(data.error||\"Failed to assign email\");}}catch(error){// Helpers.toast(\"error\", error.message || \"An error occurred\");\nconsole.error(\"Error:\",error);}};const filterAssign=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"getassignuser\"),Helpers.authHeaders);const assignedMessageIds=response.data.data.map(item=>item.message_id);// Now, filter emails based on assigned message IDs\nconst filteredMails=mails.filter(mail=>assignedMessageIds.includes(mail.detail.headers[\"Message-ID\"]));setMails(filteredMails);setAssignSuccess(true);}catch(error){console.error(\"Error:\",error);// Log error\n}};const[selectedMemberId,setSelectedMemberId]=useState(\"\");const handleMemberChange=selectedOption=>{if(selectedOption){console.log(\"Selected Member ID:\",selectedOption.value);setSelectedMemberId(selectedOption.value);filterMember(selectedOption.value);}else{setSelectedMemberId(\"\");// or handle deselecting differently if needed\n}};// Function to filter emails based on selected member ID\nconst filterMember=async memberId=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"getassignuser\"),Helpers.authHeaders);// console.log(\"Get assignResponse data:\", response.data); // Log the response data\nif(response.status===200){const assignedData=response.data.data;// console.log(\"Assigned Data:\", assignedData); // Debugging log\n// Filter to get assigned message IDs for the selected team ID\nconst assignedMessageIds=assignedData.filter(item=>String(item.team_id)===String(memberId)).map(item=>item.message_id);console.log(\"Assigned Message IDs:\",assignedMessageIds);// Log the filtered message IDs\n// Filter the emails based on the assigned message IDs\nconst filteredMails=mails.filter(mail=>assignedMessageIds.includes(String(mail.detail.headers[\"Message-ID\"])));setMails(filteredMails);// Set the filtered mails\nsetAssignSuccess(true);// Indicate success\n}}catch(error){console.error(\"Error:\",error);setAssignSuccess(false);// Indicate an error occurred\n}};const[expandedMailId,setExpandedMailId]=useState(null);const handleToggleDetails=mailId=>{if(expandedMailId===mailId){setExpandedMailId(null);}else{setExpandedMailId(mailId);// Expand if not expanded\nsetSelectedMailId(mailId);}};const options=team.map(member=>({value:member.id,label:member.user_name}));// console.log(options,'options data');\nconst options1=team.map(member=>({value:member.id,// make sure this is correctly populated\nlabel:member.user_email// and this too\n}));// console.log(options1,'options 1 data');\nconst customStyles1={control:styles=>({...styles,backgroundColor:\"#D9D9D9B2\",color:\"#ADADAD\"})};const customStyles={control:styles=>({...styles,backgroundColor:\"#E2545E\",color:\"white\",boxShadow:\"none\"}),singleValue:styles=>({...styles,color:\"white\"// affects the selected option label\n}),placeholder:styles=>({...styles,color:\"white\"// This will change the placeholder text color\n}),input:styles=>({...styles,color:\"white\"// This will change the text color as you type in the search input\n}),dropdownIndicator:styles=>({...styles,color:\"white\"// Arrow icon color\n}),noOptionsMessage:styles=>({...styles,color:\"white\"// No options available message color\n}),menu:styles=>({...styles,backgroundColor:\"#E2545E\"// Dropdown background\n})};const[profile,setProfile]=useState(null);useEffect(()=>{const fetchDetail=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"profile\"),Helpers.authHeaders);if(response.status===200){// console.log(\"API Response:\", response.data.data.profile);\nsetProfile(response.data.data);}else{// console.log(\"Received non-200 response:\", response.status);\n}}catch(error){console.error(\"Error fetching profile data:\",error);}};fetchDetail();},[]);const toggleFilter=()=>{if(!isFilterActive){filterAssign();// Apply the filter\n}setIsFilterActive(!isFilterActive);// Toggle the active state of the filter\n};const clearDateFilter=()=>{setStartDate(null);setEndDate(null);setSearchTerm(\"\");setIsFilterActive(false);// Ensure this is reset when filters are cleared\n};const clearFilter=()=>{fetchData();// Fetch initial data to reset filters\nsetIsFilterActive(false);// Reset the filter active state\n};const[activeIcon,setActiveIcon]=useState(null);// const [sortDirection, setSortDirection] = useState(\"asc\");\nconst handleIconClick=iconName=>{setActiveIcon(activeIcon===iconName?null:iconName);};const toggleSortDirection=()=>{setSortDirection(sortDirection===\"asc\"?\"desc\":\"asc\");handleIconClick(\"sort\");};const iconStyle=iconName=>({fontSize:\"15px\",color:activeIcon===iconName?\"white\":\"#AEAEAE\",cursor:\"pointer\",backgroundColor:activeIcon===iconName?\"#E2545E\":\"transparent\",padding:\"11px\",borderRadius:\"5px\",border:\"1px solid #DFE2EB\",marginLeft:\"8px\"});const fetchStores=async()=>{try{const response=await axios.get(\"\".concat(Helpers.apiUrl,\"fetch-store\"),Helpers.authHeaders);if(response.status===200){const fetchedStores=response.data.data||[];setStores(fetchedStores);// Helpers.toast(\"success\", \"Fetch Stores Successfully\");\n}else{setStores([]);// Set to empty array on error\n}}catch(error){// Helpers.toast(\"error\", \"Error fetching stores. Please try again later.\");\nsetStores([]);// Set to empty array on error\n}};useEffect(()=>{fetchStores();},[]);const[editTemplate,setEditTemplate]=useState(false);const handleEditTemplate=()=>{setEditTemplate(!editTemplate);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex text-gray-900 h-[100vh] \",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container \",style:{borderRadius:\"20px\",background:\"#F9F9F9\",marginTop:\"2%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row  mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 w-full p-4   border-gray-200 rounded-lg  sm:p-6  dark:border-gray-700\",style:{maxHeight:\"100vh\",overflowY:\"auto\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\" d-flex\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold \",children:\"Inbox\"}),isGoogle?/*#__PURE__*/_jsx(\"select\",{id:\"countries\",className:\"bg-gray-50 rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2 dark:focus:ring-blue-500 dark:focus:border-blue-500\",style:{borderRadius:\"50px\",marginLeft:\"3%\",width:\"50%\",background:\"#F0F0F0\",color:\"#C2C2C2\"},defaultValue:isGoogle.contact// Use defaultValue or value based on your need\n,children:/*#__PURE__*/_jsx(\"option\",{value:isGoogle.contact,children:isGoogle.contact})}):/*#__PURE__*/_jsx(\"div\",{}),isDateFilterActive?/*#__PURE__*/_jsx(\"button\",{className:\"btn flex-1 py-2\",style:{background:\"#E2545E\",color:\"white\",marginLeft:\"1rem\"},onClick:clearDateFilter,children:\"Clear\"}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{})}),assignSuccess?/*#__PURE__*/_jsx(\"button\",{className:\"btn flex-1 py-2\",style:{background:\"#E2545E\",color:\"white\",marginLeft:\"1rem\"},onClick:clearFilter,children:\"Clear\"}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{})})]}),userNotFound?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GoogleLoginButton,{onLoginClick:loginWithGoogle})}):mails.length===0?/*#__PURE__*/_jsx(Loader,{style:{height:'90vh'}}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-5 d-flex\",style:{width:\"100%\",position:\"static\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"icons flex ml-5\",style:{flex:\"0 0 auto\"},children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleIconClick(\"calendar\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-light fa-calendar-range\",style:iconStyle(\"calendar\"),title:\"Calendar\",onClick:toggleInputs})}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleIconClick(\"search\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-light fa-magnifying-glass\",style:iconStyle(\"search\"),title:\"Search\",onClick:toggleSearchInput})}),/*#__PURE__*/_jsx(\"div\",{onClick:toggleSortDirection,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-light \".concat(sortDirection===\"asc\"?\"fa-arrow-up-arrow-down\":\"fa-arrow-down-arrow-up\"),style:iconStyle(\"sort\"),title:\"Sort \".concat(sortDirection===\"asc\"?\"Ascending\":\"Descending\"),onClick:toggleSort})}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-wrapper rounded p-3 border border-gray-300 ml-2\",style:{cursor:\"pointer\",color:isFilterActive?\"white\":\"#AEAEAE\",backgroundColor:isFilterActive?\"#E2545E\":\"transparent\"},title:\"Filter\",onClick:toggleFilter,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-light fa-circle-check\",style:{fontSize:\"15px\"}})}),/*#__PURE__*/_jsx(GoogleLoginComponent,{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-4\",children:[showInputs&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-5 d-flex\",style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",style:{flex:\"1\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 flex\",style:{flex:\"1\"},children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate?startDate.toISOString().substring(0,10):\"\",onChange:e=>setStartDate(e.target.value?new Date(e.target.value):null),placeholder:\"Select start date\",style:{padding:\"5%\",width:\"100%\",borderRadius:\"30px\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 flex\",style:{flex:\"1\"},children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate?endDate.toISOString().substring(0,10):\"\",onChange:e=>setEndDate(e.target.value?new Date(e.target.value):null),placeholder:\"Select end date\",style:{padding:\"5%\",width:\"100%\",borderRadius:\"30px\"}})})]})}),showSearch&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search mails\",className:\"search-input-class\",style:{width:\"100%\",padding:\"2%\",marginTop:\"2%\"}})]}),filteredMails.length===0&&!userNotFound?/*#__PURE__*/_jsx(\"div\",{style:{padding:\"25%\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"/media/no_result_found.png\",alt:\"No results found\"})}):filteredMails.map((mail,index)=>{var _mail$detail$headers4,_mail$detail$headers5,_mail$detail$headers7,_mail$detail$headers8,_mail$detail$headers9,_mail$detail$headers10,_mail$detail$headers11,_mail$detail$headers12;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"my-5 space-y-3 shadow\",style:{borderRadius:\"50px\"},children:/*#__PURE__*/_jsxs(\"li\",{className:\"rounded-lg \".concat(mail.detail.headers&&selectedMailId===mail.detail.headers[\"Message-ID\"]?\"selected-outline\":\"\"),children:[/*#__PURE__*/_jsxs(Link,{to:\"/user/dashboard/\".concat((_mail$detail$headers5=mail.detail.headers)===null||_mail$detail$headers5===void 0?void 0:_mail$detail$headers5[\"Message-ID\"]),className:\"flex items-center p-3 bg-white text-base font-bold text-gray-900 rounded-lg hover:bg-gray-100 group hover:shadow dark:hover:bg-gray-100 dark:text-white\",onClick:()=>{var _mail$detail$headers6;return handleToggleDetails((_mail$detail$headers6=mail.detail.headers)===null||_mail$detail$headers6===void 0?void 0:_mail$detail$headers6[\"Message-ID\"]);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow ms-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"span\",{children:(_mail$detail$headers7=mail.detail.headers)!==null&&_mail$detail$headers7!==void 0&&_mail$detail$headers7.From?mail.detail.headers.From.split(\" <\")[0]:\"Unknown Sender\"}),assignSuccess?/*#__PURE__*/_jsx(\"i\",{className:\"fa-light fa-circle-check\",style:{fontSize:\"15px\",color:\"green\",cursor:\"pointer\",marginLeft:\"3%\",marginTop:\"0%\"}}):\"\"]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-xs\",style:{color:\"#C2C2C2\"},children:((_mail$detail$headers8=mail.detail.headers)===null||_mail$detail$headers8===void 0?void 0:_mail$detail$headers8.Date)||\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:\"#C2C2C2\",width:\"100%\"},children:((_mail$detail$headers9=mail.detail.headers)===null||_mail$detail$headers9===void 0?void 0:_mail$detail$headers9.Subject)||\"No Subject\"})]}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid \".concat(expandedMailId===((_mail$detail$headers10=mail.detail.headers)===null||_mail$detail$headers10===void 0?void 0:_mail$detail$headers10[\"Message-ID\"])?\"fa-caret-up\":\"fa-caret-down\",\" ml-auto text-gray-500\")})]}),expandedMailId===((_mail$detail$headers11=mail.detail.headers)===null||_mail$detail$headers11===void 0?void 0:_mail$detail$headers11[\"Message-ID\"])&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs\",children:[\"Message:- \",mail.detail.snippet||\"No snippet available\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs\",children:[\"Received:- \",((_mail$detail$headers12=mail.detail.headers)===null||_mail$detail$headers12===void 0?void 0:_mail$detail$headers12.Date)||\"No date available\"]})]})]},mail.detail.id)})},((_mail$detail$headers4=mail.detail.headers)===null||_mail$detail$headers4===void 0?void 0:_mail$detail$headers4[\"Message-ID\"])||index);})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-white p-4 border border-gray-200 rounded-lg shadow sm:p-6\",style:{maxHeight:\"90vh\",overflowY:\"auto\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",style:{color:\"#666666\"},children:\"CC\"}),userNotFound?/*#__PURE__*/_jsx(Select,{style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},className:\"basic-single mt-3\",classNamePrefix:\"select\",styles:customStyles1,placeholder:\"Select a team member\",isDisabled:expandedMailId===null?true:false}):/*#__PURE__*/_jsx(Select,{style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},className:\"basic-single mt-3\",classNamePrefix:\"select\",defaultValue:options[0],isClearable:true,isSearchable:true,styles:customStyles1,name:\"teamSelect\",isMulti:true,options:options// Your options array here\n,onChange:handleAssignChange,placeholder:\"Select a team member\",isDisabled:expandedMailId===null?true:false})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",style:{color:\"#666666\"},children:\"Choose Template\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",onChange:handleTemplateChange,value:selectedTemplateId||\"\",style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},disabled:expandedMailId===null?true:false,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select Template\"}),templates.map(template=>/*#__PURE__*/_jsx(\"option\",{value:template.id,children:template.template_name},template.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",style:{color:\"#666666\"},children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",onChange:e=>handleLocationButton(e.target.value),value:locationId||\"\",style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},disabled:expandedMailId===null?true:false,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select Location\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.location,children:location.location},location.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",style:{color:\"#666666\"},children:\"Stores\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",onChange:e=>handleStoreButton(e.target.value),value:storeId||\"\",style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},disabled:expandedMailId===null?true:false,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select Store\"}),stores.map(store=>/*#__PURE__*/_jsx(\"option\",{value:store.name,children:store.name},store.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",style:{color:\"#666666\"},children:\"Collections\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",value:selectedCollectionId,onChange:handleSelectionChange,style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},disabled:expandedMailId===null?true:false,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a collection\"}),collections.map(collection=>/*#__PURE__*/_jsx(\"option\",{value:collection.id,children:collection.name},collection.id))]})]}),selectedCollectionId&&filteredProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",style:{color:\"#666666\"},children:\"Model Number\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\",value:selectedProductId,onChange:handleProductChange,style:{background:\"#D9D9D9B2\",color:\"#ADADAD\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a model\"}),filteredProducts.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.id,children:product.name},product.id))]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{maxHeight:\"90vh\",overflowY:\"auto\"},children:selectedTemplateId?/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 w-full p-2 bg-white border-gray-200 rounded-lg sm:p-6 dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[!editTemplate&&/*#__PURE__*/_jsx(\"p\",{className:\"small text-dark\",style:{whiteSpace:\"pre-wrap\"},children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:finalTemplate}})}),editTemplate&&/*#__PURE__*/_jsx(\"textarea\",{value:finalTemplate,onChange:handleFinalTemplateChange,style:{whiteSpace:\"pre-wrap\",width:\"100%\",height:\"80vh\",border:\"1px solid black\",borderRadius:\"10px\",padding:\"5%\"}})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",marginBottom:\"3%\",marginRight:\"3%\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEmailSend,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn flex-1 py-2\",onClick:handleEditTemplate,style:{background:\"#E2545E\",color:\"white\",marginLeft:\"1rem\"},children:editTemplate?\"View\":\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn flex-1 py-2\",style:{background:\"#E2545E\",color:\"white\",marginLeft:\"1rem\"},disabled:sendisLoading,children:sendisLoading?\"Please Wait...\":\"Send\"})]})})]})}):/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"30%\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/media/result.png\",alt:\"No template selected\",style:{width:\"100%\"}}),/*#__PURE__*/_jsx(\"p\",{style:{alignItems:\"center\",textAlign:\"center\",paddingTop:\"8%\",paddingBottom:\"5%\"},children:\"Please Choose the template\"})]})})})]})})]})});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","Sidebar","Link","useParams","Helpers","axios","Select","useNavigate","GoogleLoginComponent","GoogleLoginButton","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","document","title","isAuthenticated","setIsAuthenticated","isLoading","setIsLoading","mails","setMails","isGoogle","setIsGoogle","userNotFound","setUserNotFound","loading","setLoading","userJson","localStorage","getItem","user","JSON","parse","userEmail","email","emailData","setEmailData","messageId","url","apiUrl","handleLoginSuccess","response","fetchDetail","get","concat","authHeaders","status","data","error","console","loginWithGoogle","userString","id","log","userId","backendURL","backendUrl","window","location","href","fetchData","emails","map","detail","e","setAssignSuccess","emailMessage","find","headers","request","message","templates","setTemplates","selectedTemplateId","setSelectedTemplateId","finalTemplate","setFinalTemplate","handleTemplateChange","event","setLocationId","target","value","handleFinalTemplateChange","products","setProducts","locations","setLocations","fetchLocations","Array","isArray","collections","setCollections","allProducts","setAllProducts","selectedCollectionId","setSelectedCollectionId","selectedProductId","setSelectedProductId","filteredProducts","setFilteredProducts","storeId","setStoreId","handleStoreButton","store","stores","setStores","locationId","handleLocationButton","updateTemplate","fetchCollections","handleAPIError","fetchProducts","filtered","filter","product","String","collection_id","handleSelectionChange","handleProductChange","newProductId","p","setSelectedProduct","productCollectionId","isSelectedCollectionId","selectedProduct","getTemplates","_emailData$detail$hea","templateToUpdate","temp","parseInt","username","userName","name","replacements","match","price","stock","link","features","benefits","contact","profile","phone","address","collection_name","image","updatedTemplate","heading","key","Object","entries","replace","RegExp","modelName","modelPrice","modelStock","modelLink","modelFeature","modelStore","modelLocation","modelBenefit","mycollection","imageHtml","basePath","fromField","reciever_name","sender_email","sender_phone","sender_address","modifiedTemplates","template","greetingUpdated","selectedGreetingText","setSelectedGreetingText","handleGreetingButton","greetingText","setStock","handleStockChange","showPreview","setShowPreview","handleProceed","resposne","setResponse","handleSubmit","preventDefault","myuser","myemail","reciever_email","payload","email_address","greeting","template_id","product_id","responder_name","post","body","toast","sendisLoading","setsendisLoading","handleEmailSend","received_message","snippet","reply_to","fromField1","match1","asseignedTeamIds","selectedAssignIds","formData","responder_mail","assigned_team_ids","subject","setExpandedMailId","startDate","setStartDate","endDate","setEndDate","showSearch","setShowSearch","searchTerm","setSearchTerm","isFilterActive","setIsFilterActive","isDateFilterActive","setIsDateFilterActive","filteredMails","mail","_mail$detail$headers","mailDate","Date","startOfDay","setHours","endOfDay","isDateFiltered","_mail$detail$headers2","_mail$detail$headers3","lowerCaseSearchTerm","toLowerCase","isSearchTermInSnippet","includes","isSearchTermInFrom","From","isSearchFiltered","showInputs","setShowInputs","sortDirection","setSortDirection","toggleSort","newSortDirection","currentMails","sort","a","b","_a$detail$headers","_b$detail$headers","dateA","dateB","toggleSearchInput","toggleInputs","selectedMailId","setSelectedMailId","handleSelectMail","mailId","selectGreetingBasedOnTime","hours","getHours","team","setTeam","assignSuccess","setSelectedAssignIds","handleAssignChange","selectedOptions","selectedIds","option","length","token","fetch","method","Accept","Authorization","stringify","team_ids","message_id","json","ok","Error","filterAssign","assignedMessageIds","item","selectedMemberId","setSelectedMemberId","handleMemberChange","selectedOption","filterMember","memberId","assignedData","team_id","expandedMailId","handleToggleDetails","options","member","label","user_name","options1","user_email","customStyles1","control","styles","backgroundColor","color","customStyles","boxShadow","singleValue","placeholder","input","dropdownIndicator","noOptionsMessage","menu","setProfile","toggleFilter","clearDateFilter","clearFilter","activeIcon","setActiveIcon","handleIconClick","iconName","toggleSortDirection","iconStyle","fontSize","cursor","padding","borderRadius","border","marginLeft","fetchStores","fetchedStores","editTemplate","setEditTemplate","handleEditTemplate","children","className","style","background","marginTop","maxHeight","overflowY","width","defaultValue","onClick","onLoginClick","height","position","flex","type","toISOString","substring","onChange","src","alt","index","_mail$detail$headers4","_mail$detail$headers5","_mail$detail$headers7","_mail$detail$headers8","_mail$detail$headers9","_mail$detail$headers10","_mail$detail$headers11","_mail$detail$headers12","to","_mail$detail$headers6","split","Subject","classNamePrefix","isDisabled","isClearable","isSearchable","isMulti","disabled","template_name","collection","whiteSpace","dangerouslySetInnerHTML","__html","display","justifyContent","marginBottom","marginRight","onSubmit","alignItems","textAlign","paddingTop","paddingBottom"],"sources":["D:/Shahid Zafar/Rolex/frontend-rolex/src/Pages/User/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Sidebar from \"./../../Components/Sidebar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Helpers from \"./../../Config/Helpers\";\r\nimport axios from \"axios\";\r\nimport Select from \"react-select\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport GoogleLoginComponent from \"../Admin/Components/GoogleLoginComponent\";\r\nimport GoogleLoginButton from \"../Admin/Components/GoogleLoginButton\";\r\nimport Loader from \"../Admin/Components/Loader\";\r\n\r\nconst Home = () => {\r\n  useEffect(() => {\r\n    document.title = \"Home - Crownsync AI\";\r\n\r\n    return () => {\r\n\r\n      document.title = \"Crownsync Ai\";\r\n    };\r\n  }, []);\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [mails, setMails] = useState([]);\r\n  const [isGoogle, setIsGoogle] = useState(null);\r\n  const [userNotFound, setUserNotFound] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const userJson = localStorage.getItem(\"user\");\r\n\r\n  const user = JSON.parse(userJson);\r\n  const userEmail = user ? user.email : null;\r\n\r\n  const [emailData, setEmailData] = useState(null);\r\n  let { messageId } = useParams();\r\n\r\n\r\n  useEffect(() => {\r\n    // const asyncOperations = [\r\n    //     new Promise((resolve) => setTimeout(resolve, 1000)), // Example async operation 1\r\n    //     new Promise((resolve) => setTimeout(resolve, 2000)), // Example async operation 2\r\n    //     new Promise((resolve) => setTimeout(resolve, 3000)), // Example async operation 3\r\n    // ];\r\n\r\n    // Promise.all(asyncOperations)\r\n    //     .then(() => {\r\n    //         setLoading(false);\r\n    //         Helpers.toast(\"success\", \"Page is ready now\");\r\n    //     });\r\n}, []);\r\n  const url = Helpers.apiUrl;\r\n  const handleLoginSuccess = (response) => {\r\n    // alert(response);\r\n    // console.log('Login Response:', response);\r\n\r\n};\r\n\r\n  useEffect(() => {\r\n    const fetchDetail = async () => {\r\n        try {\r\n          const response = await axios.get(`${Helpers.apiUrl}check-login`, Helpers.authHeaders);\r\n          if (response.status === 200 && response.data.data) {\r\n            setIsGoogle(response.data.data);\r\n            setUserNotFound(false);\r\n          } else {\r\n            setIsGoogle(null);\r\n            setUserNotFound(true);\r\n          }\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 404) {\r\n            // Handle user not found\r\n            setUserNotFound(true);\r\n            setIsGoogle(null);\r\n          } else {\r\n            // Handle other errors\r\n            console.error(\"Error fetching details:\", error);\r\n          }\r\n        }\r\n    };\r\n\r\n    fetchDetail();\r\n  }, []);\r\n\r\n  const loginWithGoogle = () => {\r\n   // Retrieve the user data from localStorage\r\nconst userString = localStorage.getItem('user');\r\n\r\n// Parse it into an object, if the data is not null\r\nlet user = null;\r\nif (userString) {\r\n  try {\r\n    user = JSON.parse(userString);\r\n  } catch (error) {\r\n    console.error('Error parsing user data:', error);\r\n  }\r\n}\r\n\r\n// Access and log the user id\r\nif (user && user.id) {\r\n  console.log('User ID:', user.id);\r\n} else {\r\n  console.log('User data is missing or does not contain an id.');\r\n}\r\n    const userId = localStorage.getItem('user_id'); // Retrieve the stored user ID\r\n    const backendURL = Helpers.backendUrl;\r\n    window.location.href = `${backendURL}auth/redirect?userId=${user.id}`; // Pass only the user ID\r\n};\r\n\r\n  const fetchData = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}email-messages`, Helpers.authHeaders);\r\n      if (response.status === 200) {\r\n        const emails = response.data.data.map((email) => {\r\n          try {\r\n            // Assuming email.detail is a JSON string that needs parsing\r\n            return { ...email, detail: JSON.parse(email.detail) };\r\n          } catch (e) {\r\n            console.error(\r\n              \"Failed to parse email detail for email with ID:\",\r\n              email.id\r\n            );\r\n            return { ...email, detail: {} }; // Provide empty detail in case of parsing failure\r\n          }\r\n        });\r\n        setMails(emails);\r\n        setAssignSuccess(false);\r\n      } else {\r\n        console.log(\"Received non-200 response:\", response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n      if (error.response && error.response.status === 401) {\r\n        setIsAuthenticated(false); // Assuming you meant to set false here\r\n      } else {\r\n        setIsAuthenticated(true); // You can decide the correct logic\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // useEffect to call fetchData on component mount\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}email-messages`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          console.log('mail data comes',response.data);\r\n          const emails = response.data.data.map((email) => {\r\n            try {\r\n              // Assuming email.detail is a JSON string that needs parsing\r\n              return { ...email, detail: JSON.parse(email.detail) };\r\n            } catch (e) {\r\n              console.error(\r\n                \"Failed to parse email detail for email with ID:\",\r\n                email.id,\r\n                e\r\n              );\r\n              return { ...email, detail: {} }; // Provide empty detail in case of parsing failure\r\n            }\r\n          });\r\n\r\n          const emailMessage = emails.find(\r\n            (email) =>\r\n              email.detail.headers &&\r\n              email.detail.headers[\"Message-ID\"] === messageId\r\n              \r\n          );\r\n          console.log('message id down',messageId);\r\n          if (emailMessage) {\r\n            setEmailData(emailMessage);\r\n            // console.log(\"Email data:\", emailMessage);\r\n          } else {\r\n            console.log(\"Email with messageId not found.\");\r\n          }\r\n        } else {\r\n          console.log(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n        // Handle error\r\n        if (error.response) {\r\n          // Server responded with a status code outside 2xx range\r\n          console.error(\"Error data:\", error.response.data);\r\n          console.error(\"Error status:\", error.response.status);\r\n        } else if (error.request) {\r\n          // No response was received to the request\r\n          console.error(\"No response received:\", error.request);\r\n        } else {\r\n          // An error occurred in setting up the request\r\n          console.error(\"Error message:\", error.message);\r\n        }\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [messageId]); // Fetch data whenever messageId changes\r\n  const [templates, setTemplates] = useState([]);\r\n  const [selectedTemplateId, setSelectedTemplateId] = useState(null);\r\n  const [finalTemplate, setFinalTemplate] = useState(\"\");\r\n\r\n  const handleTemplateChange = (event) => {\r\n    setLocationId(\"\");\r\n    setSelectedTemplateId(event.target.value);\r\n  };\r\n  const handleFinalTemplateChange = (event) => {\r\n    setFinalTemplate(event.target.value);\r\n  };\r\n\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [locations, setLocations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchLocations = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}fetch-locations`, Helpers.authHeaders);\r\n        if (response.status === 200 && Array.isArray(response.data.data)) {\r\n          // console.log('location data',response.data.data);\r\n          setLocations(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLocations();\r\n  }, []);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}rolex_models`, Helpers.authHeaders);\r\n        if (response.status === 200 && Array.isArray(response.data.data)) {\r\n          setProducts(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  //location\r\n\r\n\r\n  const [collections, setCollections] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [selectedCollectionId, setSelectedCollectionId] = useState(\"\");\r\n  const [selectedProductId, setSelectedProductId] = useState(\"\");\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n    // For passing store Id\r\n    const [storeId, setStoreId] = useState(\"\");\r\n\r\n    const handleStoreButton = (store) => {\r\n      setStoreId(store);\r\n    };\r\n    const [stores, setStores] = useState([]);\r\n    // For passing location Id\r\n    const [locationId, setLocationId] = useState(\"\");\r\n\r\n    const handleLocationButton = (location) => {\r\n      setLocationId(location);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (locationId !== \"\" || storeId !== \"\") {\r\n        updateTemplate();\r\n      }\r\n    }, [locationId, storeId]);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchCollections = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}collects`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          setCollections(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n        handleAPIError(error);\r\n      }\r\n    };\r\n\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}rolex_models`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          setAllProducts(response.data.data);\r\n        } else {\r\n          console.error(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n        handleAPIError(error);\r\n      }\r\n    };\r\n\r\n    fetchCollections();\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedCollectionId) {\r\n      const filtered = allProducts.filter(\r\n        (product) =>\r\n          String(product.collection_id) === String(selectedCollectionId)\r\n      );\r\n      setFilteredProducts(filtered);\r\n    } else {\r\n      setFilteredProducts([]);\r\n    }\r\n  }, [selectedCollectionId, allProducts]);\r\n\r\n  const handleSelectionChange = (event) => {\r\n    setSelectedCollectionId(event.target.value);\r\n    setSelectedProductId(\"\"); // Reset the product selection\r\n  };\r\n\r\n  const handleProductChange = (event) => {\r\n    const newProductId = event.target.value;\r\n    setSelectedProductId(newProductId);\r\n    const product = filteredProducts.find((p) => String(p.id) === String(newProductId));\r\n    setSelectedProduct(product);\r\n};\r\n  const handleAPIError = (error) => {\r\n    if (error.response) {\r\n      console.error(\"Error data:\", error.response.data);\r\n      console.error(\"Error status:\", error.response.status);\r\n    } else if (error.request) {\r\n      console.error(\"No response received:\", error.request);\r\n    } else {\r\n      console.error(\"Error message:\", error.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n  \r\n    const filtered = allProducts.filter((product) => {\r\n      const productCollectionId = String(product.collection_id);\r\n      const isSelectedCollectionId = String(selectedCollectionId);\r\n\r\n      return productCollectionId === isSelectedCollectionId;\r\n    });\r\n\r\n    // console.log(\"Filtered Products:\", filtered);\r\n    setFilteredProducts(filtered);\r\n  }, [selectedCollectionId, allProducts]);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  useEffect(() => {\r\n    // This effect keeps the selectedProduct state in sync with the selectedProductId state\r\n    if (selectedProductId !== \"\") {\r\n        const product = filteredProducts.find(\r\n            (p) => String(p.id) === String(selectedProductId)\r\n        );\r\n        setSelectedProduct(product);\r\n    } else {\r\n        setSelectedProduct(null);\r\n    }\r\n}, [selectedProductId, filteredProducts]);\r\n\r\n  const getTemplates = async () => {\r\n    const response = await axios.get(`${Helpers.apiUrl}admin/mail_templates`, Helpers.authHeaders);\r\n    if (response.status === 200) {\r\n      setTemplates(response.data.data);\r\n      // console.log('my templates',response.data.data);\r\n    }\r\n  };\r\n\r\n  const updateTemplate = () => {\r\n    if (selectedTemplateId) {\r\n\r\n      const templateToUpdate = templates.find(temp => temp.id === parseInt(selectedTemplateId));\r\n  \r\n      if (!templateToUpdate) {\r\n        console.error('Template with the given ID was not found.');\r\n        return;\r\n      }\r\n\r\n      const username = localStorage.getItem(\"user\");\r\n      const user = JSON.parse(username);\r\n      const userName = user ? user.name : \"\";\r\n\r\n      const replacements = {\r\n        'MyName': userName || \"\",\r\n        'ClientName': emailData.detail.headers[\"From\"].match(/^(.*?)\\s*<(.*)>$/)?.[1] || \"\",\r\n        'Model': selectedProduct?.name || \"\",\r\n        'Price': selectedProduct?.price || \"\",\r\n        'Stock': selectedProduct?.stock || \"\",\r\n        'Link': selectedProduct?.link || \"\",\r\n        'Features': selectedProduct?.features || \"\", \r\n        // 'Store': selectedProduct?.store || \"\",\r\n        'Store': storeId || \"\",\r\n        // 'Location': selectedProduct?.location || \"\",\r\n        'Location': locationId || \"\",\r\n\r\n        'Benefits': selectedProduct?.benefits || \"\",\r\n        'MyEmail': isGoogle?.contact || \"\",\r\n        'MyPhone': profile?.phone || \"\",\r\n        'Address': profile?.address || \"\",\r\n        'Collection': selectedProduct?.collection_id ? selectedProduct.collection_name : \"\",\r\n        'Image': selectedProduct?.image ? `<img src=\"${selectedProduct.image}\" alt=\"${selectedProduct?.name}\" style=\"max-width: 100%; height: 200px; align-items: center; text-align: center; display: flex; justify-content: center; />` : \"\"\r\n      };\r\n\r\n      \r\n      // Apply replacements, replacing placeholders with empty strings for empty fields\r\n      let updatedTemplate = templateToUpdate.heading;\r\n      for (const [key, value] of Object.entries(replacements)) {\r\n        if (value !== \"\") {\r\n          // Only replace placeholders with actual values\r\n          updatedTemplate = updatedTemplate.replace(new RegExp(`\\\\[${key}\\\\]`, 'gi'), value);\r\n        } else {\r\n          // If the value is empty, replace the placeholder with an empty string\r\n          updatedTemplate = updatedTemplate.replace(new RegExp(`\\\\[${key}\\\\]`, 'gi'), '');\r\n        }\r\n      }\r\n  \r\n      setFinalTemplate(updatedTemplate);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  useEffect(() => {\r\n    updateTemplate();\r\n  }, [selectedProductId, emailData, selectedTemplateId, selectedCollectionId]);\r\n\r\n  useEffect(() => {\r\n    getTemplates();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // console.log(\"Called\");\r\n      const username = localStorage.getItem(\"user\");\r\n      const user = JSON.parse(username);\r\n      const userName = user ? user.name : \"Customer\";\r\n      setIsLoading(true);\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}admin/mail_templates`, Helpers.authHeaders);\r\n        const modelName =\r\n          selectedProduct && selectedProduct.name ? selectedProduct.name : \"[]\";\r\n        const modelPrice =\r\n          selectedProduct && selectedProduct.price\r\n            ? selectedProduct.price\r\n            : \"[]\";\r\n        const modelStock =\r\n          selectedProduct && selectedProduct.stock\r\n            ? selectedProduct.stock\r\n            : \"[]\";\r\n        const modelLink =\r\n          selectedProduct && selectedProduct.link ? selectedProduct.link : \"[]\";\r\n        const modelFeature =\r\n          selectedProduct && selectedProduct.features\r\n            ? selectedProduct.features\r\n            : \"[]\";\r\n        const modelStore =\r\n          selectedProduct && selectedProduct.store\r\n            ? selectedProduct.store\r\n            : \"[]\";\r\n        const modelLocation =\r\n          selectedProduct && selectedProduct.location\r\n            ? selectedProduct.location\r\n            : \"[]\";\r\n        const modelBenefit =\r\n          selectedProduct && selectedProduct.benefits\r\n            ? selectedProduct.benefits\r\n            : \"[]\";\r\n        const mycollection =\r\n          selectedProduct && selectedProduct.collection_id\r\n            ? selectedProduct.collection_name\r\n            : \"[]\";\r\n        // console.log(\"asdfcxe\", mycollection);\r\n        const imageHtml =\r\n          selectedProduct && selectedProduct.image\r\n            ? `<img src=\"${Helpers.basePath}/assets/${selectedProduct.image}\" alt=\"${selectedProduct.name}\" style=\"max-width: 100%; height: 200px; align-items: center;text-align:center;display:flex;justify-content:center;margin-left:10%\" />`\r\n            : \"[]\";\r\n        const fromField = emailData.detail.headers[\"From\"];\r\n        const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\r\n        const reciever_name = match ? match[1] : \"\";\r\n        const sender_email = isGoogle ? isGoogle.contact : \"\";\r\n        const sender_phone = profile ? profile.phone : \"\";\r\n        const sender_address = profile ? profile.address : \"\";\r\n        if (response.status === 200) {\r\n          const modifiedTemplates = response.data.data.map((template) => {\r\n            const greetingUpdated = template.heading\r\n              .replace(/\\[SenderName\\]/gi, userName)\r\n              .replace(/\\[ReceiverName\\]/gi, reciever_name)\r\n              .replace(/\\[Model\\]/gi, modelName)\r\n              .replace(/\\[Price\\]/gi, modelPrice)\r\n              .replace(/\\[Stock\\]/gi, modelStock)\r\n              .replace(/\\[Link\\]/gi, modelLink)\r\n              .replace(/\\[Features\\]/gi, modelFeature)\r\n              .replace(/\\[Store\\]/gi, modelStore)\r\n              .replace(/\\[Location\\]/gi, modelLocation)\r\n              .replace(/\\[Benefits\\]/gi, modelBenefit)\r\n              .replace(/\\[SenderEmail\\]/gi, sender_email)\r\n              .replace(/\\[SenderPhone\\]/gi, sender_phone)\r\n              .replace(/\\[SenderAddress\\]/gi, sender_address)\r\n              .replace(/\\[Collection\\]/gi, mycollection)\r\n              .replace(/\\[Image\\]/gi, imageHtml);\r\n            return {\r\n              ...template,\r\n              heading: greetingUpdated,\r\n            };\r\n          });\r\n          setTemplates(modifiedTemplates);\r\n        } else {\r\n          // console.log(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    // fetchData();\r\n  }, [selectedProductId, emailData, selectedTemplateId, selectedCollectionId]);\r\n\r\n  // For passing data in email preview section\r\n  const [selectedGreetingText, setSelectedGreetingText] = useState(\"\");\r\n\r\n  const handleGreetingButton = (greetingText) => {\r\n    setSelectedGreetingText(greetingText);\r\n    console.log(greetingText); // Now this directly logs the greetings text\r\n  };\r\n\r\n \r\n  const [stock, setStock] = useState(\"\");\r\n  const handleStockChange = (status) => {\r\n    setStock(status);\r\n    // console.log(stock);\r\n  };\r\n  // console.log(\"SELECTED MAIL\", emailData);\r\n  const [showPreview, setShowPreview] = useState(false); // New state for toggling the preview\r\n  const handleProceed = () => {\r\n    // Toggle the visibility of the email preview section\r\n    setShowPreview(true);\r\n    // console.log(showPreview);\r\n  };\r\n  const [resposne, setResponse] = useState(\"\");\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const username = localStorage.getItem(\"user\");\r\n    const user = JSON.parse(username);\r\n\r\n    const myuser = user ? user.name : null;\r\n    const myemail = user ? user.email : null;\r\n\r\n    const fromField = emailData.detail.headers[\"From\"];\r\n    const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\r\n    const reciever_name = match ? match[1] : \"\"; // This would be \"GitHub\"\r\n    // console.log(reciever_name);\r\n    const reciever_email = match ? match[2] : fromField;\r\n    // console.log(reciever_email);\r\n    const payload = {\r\n      email_address: myemail,\r\n      greeting: selectedGreetingText,\r\n      reciever_name,\r\n      reciever_email,\r\n      template_id: selectedTemplateId,\r\n      product_id: selectedProductId,\r\n      responder_name: myuser,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`${Helpers.apiUrl}email-preview`,payload, Helpers.authHeaders);\r\n      if (response.status === 200) {\r\n\r\n        setResponse(response.data.body);\r\n        Helpers.toast(\"success\", \"Operation Successful\");\r\n      } else {\r\n        console.log(\r\n          \"Operation not successful, response status:\",\r\n          response.status\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n    }\r\n  };\r\n  const [sendisLoading, setsendisLoading] = useState(false);\r\n  const handleEmailSend = async (e) => {\r\n    e.preventDefault();\r\n    setsendisLoading(true);\r\n    const fromField = emailData.detail.headers[\"From\"];\r\n    const received_message = emailData.detail.snippet;\r\n    const match = fromField.match(/^(.*?)\\s*<(.*)>$/);\r\n    const reply_to = match ? match[2] : fromField;\r\n    const fromField1 = emailData.detail.headers[\"From\"];\r\n    const match1 = fromField1.match(/^(.*?)\\s*<(.*)>$/);\r\n    const reciever_name = match1 ? match1[1] : \"\"; // This would be \"GitHub\"\r\n    // console.log(\"asdfvcxyh\", reciever_name);\r\n    const reciever_email = match ? match[2] : fromField1;\r\n    // console.log(reciever_email);\r\n    const asseignedTeamIds = selectedAssignIds;\r\n  //  alert(asseignedTeamIds);\r\n    const formData = {\r\n      // template_id: selectedTemplateId,\r\n      // product_id: selectedProductId,\r\n      greeting: selectedGreetingText,\r\n      response: resposne, // You need to define what this response should be.\r\n      reply_to: reply_to,\r\n      received_message: received_message,\r\n      responder_name: profile.name,\r\n      responder_mail: isGoogle.contact,\r\n      // sender_phone: profile.phone,\r\n      // sender_address: profile.address,\r\n      reciever_name: reciever_name,\r\n      reciever_email: reciever_email,\r\n      assigned_team_ids : asseignedTeamIds,\r\n      subject : profile.name,\r\n      message : finalTemplate\r\n      // store:storeId,\r\n      // location:locationId\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`${Helpers.apiUrl}gmail/send-email`, formData, Helpers.authHeaders);\r\n      console.log(response)\r\n      if (response.status === 200) {\r\n        console.log(response.data);\r\n          Helpers.toast(\"success\", response.data.message);\r\n      } else {\r\n          console.log(\"Not sending mail\");\r\n          Helpers.toast(\"error\", \"Error in Sending Mail \");\r\n      }\r\n  } catch (error) {\r\n      console.error(\"Error in Sending Mail \", error);\r\n      \r\n      // Check if error response indicates invalid grant\r\n      if (error.response && error.response.data && error.response.data.error === 'Refresh token is invalid, please reauthorize the application') {\r\n          // Prompt the user to reauthorize\r\n          Helpers.toast(\"error\", \"Session expired. Please reauthorize the application.\");\r\n      \r\n      } else {\r\n          Helpers.toast(\"error\", \"Error in Sending Mail \");\r\n      }\r\n  } finally {\r\n    setExpandedMailId(null);\r\n    setSelectedTemplateId(null)\r\n    setLocationId(\"\")\r\n    setStoreId(\"\")\r\n    setSelectedCollectionId(\"\")\r\n    setSelectedProductId(\"\")\r\n      setsendisLoading(false); // Ensure isLoading is set to false in finally block\r\n  }\r\n  \r\n  };\r\n\r\n  /// Filters\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [showSearch, setShowSearch] = useState(false); // Search input hidden by default\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isFilterActive, setIsFilterActive] = useState(false);\r\n  const [isDateFilterActive, setIsDateFilterActive] = useState(false);\r\n\r\n\r\n  const filteredMails = mails\r\n    .filter((mail) => {\r\n      const mailDate = new Date(mail.detail.headers?.Date);\r\n      const startOfDay = startDate\r\n        ? new Date(new Date(startDate).setHours(0, 0, 0, 0))\r\n        : null;\r\n      const endOfDay = endDate\r\n        ? new Date(new Date(endDate).setHours(23, 59, 59, 999))\r\n        : null;\r\n\r\n      const isDateFiltered =\r\n        !startOfDay ||\r\n        (mailDate >= startOfDay && (!endOfDay || mailDate <= endOfDay));\r\n      return isDateFiltered;\r\n    })\r\n    .filter((mail) => {\r\n      const lowerCaseSearchTerm = searchTerm.toLowerCase();\r\n      const isSearchTermInSnippet = mail.detail.snippet\r\n        .toLowerCase()\r\n        .includes(lowerCaseSearchTerm);\r\n      const isSearchTermInFrom =\r\n        mail.detail.headers?.From?.toLowerCase().includes(lowerCaseSearchTerm);\r\n\r\n      const isSearchFiltered = isSearchTermInSnippet || isSearchTermInFrom;\r\n      return isSearchFiltered;\r\n    });\r\n\r\n  // Update isFilterActive based on filters applied\r\n  useEffect(() => {\r\n    setIsDateFilterActive(\r\n      startDate !== null || endDate !== null || searchTerm !== \"\"\r\n    );\r\n  }, [startDate, endDate, searchTerm]);\r\n\r\n  const [showInputs, setShowInputs] = useState(false);\r\n  const [sortDirection, setSortDirection] = useState(\"desc\"); // or 'desc' for default descending\r\n  const toggleSort = () => {\r\n    // Assuming the initial sortDirection state is \"desc\"\r\n    const newSortDirection = sortDirection === \"asc\" ? \"desc\" : \"asc\";\r\n    setSortDirection(newSortDirection);\r\n\r\n    // Perform sorting\r\n    setMails((currentMails) => {\r\n      return [...currentMails].sort((a, b) => {\r\n        const dateA = new Date(a.detail.headers?.Date);\r\n        const dateB = new Date(b.detail.headers?.Date);\r\n        return newSortDirection === \"asc\" ? dateA - dateB : dateB - dateA;\r\n      });\r\n    });\r\n  };\r\n\r\n  const toggleSearchInput = () => {\r\n    setShowSearch(!showSearch); // Toggle the current state of the search input\r\n    if (showInputs) {\r\n      // If the date inputs are currently shown, hide them\r\n      setShowInputs(false);\r\n    }\r\n  };\r\n\r\n  const toggleInputs = () => {\r\n    setShowInputs(!showInputs); // Toggle the current state of the date inputs\r\n    if (showSearch) {\r\n      // If the search input is currently shown, hide it\r\n      setShowSearch(false);\r\n    }\r\n  };\r\n  const [selectedMailId, setSelectedMailId] = useState(null);\r\n  const handleSelectMail = (mailId) => {\r\n    setSelectedMailId(mailId);\r\n  };\r\n  const selectGreetingBasedOnTime = () => {\r\n    const hours = new Date().getHours();\r\n    let greeting;\r\n    if (hours < 12) {\r\n      greeting = \"Good Morning\";\r\n    } else if (hours >= 12 && hours <= 17) {\r\n      greeting = \"Good Afternoon\";\r\n    } else {\r\n      greeting = \"Good Evening\";\r\n    }\r\n    setSelectedGreetingText(greeting);\r\n  };\r\n  useEffect(() => {\r\n    selectGreetingBasedOnTime();\r\n  }, []); // The empty array ensures this effect runs once on mount\r\n  const [team, setTeam] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}getuserlist`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          setTeam(response.data.data); // Directly set the array of user objects to state\r\n        } else {\r\n          console.log(\"Error in getting user list\");\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Error\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  const [assignSuccess, setAssignSuccess] = useState(false);\r\n  const [selectedAssignIds, setSelectedAssignIds] = useState([]);\r\n\r\n  const handleAssignChange = async (selectedOptions) => {\r\n    const selectedIds = selectedOptions ? selectedOptions.map(option => option.value) : [];\r\n\r\n    console.log('selectedIds on team select', selectedIds);\r\n    setSelectedAssignIds(selectedIds);\r\n\r\n    if (!selectedIds.length) return; // Early return if no selection\r\n\r\n    const url = Helpers.apiUrl;\r\n    const token = localStorage.getItem(\"token\");\r\n      try {\r\n        console.log('message id on call handleAssignChange', messageId);\r\n\r\n        const response = await fetch(`${url}assignuser`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({\r\n            team_ids: selectedIds,\r\n            message_id: messageId,\r\n          }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          // Helpers.toast(\"success\", \"Assigned Successfully\");\r\n          console.log(data, 'assigned data comes');\r\n        } else {\r\n          throw new Error(data.error || \"Failed to assign email\");\r\n        }\r\n      } catch (error) {\r\n        // Helpers.toast(\"error\", error.message || \"An error occurred\");\r\n        console.error(\"Error:\", error);\r\n      }\r\n  };\r\n\r\n\r\n  const filterAssign = async () => {\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}getassignuser`, Helpers.authHeaders);\r\n      const assignedMessageIds = response.data.data.map(\r\n        (item) => item.message_id\r\n      );\r\n      // Now, filter emails based on assigned message IDs\r\n      const filteredMails = mails.filter((mail) =>\r\n        assignedMessageIds.includes(mail.detail.headers[\"Message-ID\"])\r\n      );\r\n      setMails(filteredMails);\r\n      setAssignSuccess(true);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error); // Log error\r\n    }\r\n  };\r\n  const [selectedMemberId, setSelectedMemberId] = useState(\"\");\r\n\r\n\r\n  const handleMemberChange = (selectedOption) => {\r\n    if (selectedOption) {\r\n      console.log(\"Selected Member ID:\", selectedOption.value);\r\n      setSelectedMemberId(selectedOption.value);\r\n      filterMember(selectedOption.value);\r\n    } else {\r\n      setSelectedMemberId(\"\"); // or handle deselecting differently if needed\r\n    }\r\n  };\r\n\r\n  // Function to filter emails based on selected member ID\r\n  const filterMember = async (memberId) => {\r\n    try {\r\n      const response = await axios.get(`${Helpers.apiUrl}getassignuser`, Helpers.authHeaders);\r\n\r\n      // console.log(\"Get assignResponse data:\", response.data); // Log the response data\r\n      if (response.status === 200) {\r\n        const assignedData = response.data.data;\r\n        // console.log(\"Assigned Data:\", assignedData); // Debugging log\r\n\r\n        // Filter to get assigned message IDs for the selected team ID\r\n        const assignedMessageIds = assignedData\r\n          .filter((item) => String(item.team_id) === String(memberId))\r\n          .map((item) => item.message_id);\r\n\r\n        console.log(\"Assigned Message IDs:\", assignedMessageIds); // Log the filtered message IDs\r\n\r\n        // Filter the emails based on the assigned message IDs\r\n        const filteredMails = mails.filter((mail) =>\r\n          assignedMessageIds.includes(String(mail.detail.headers[\"Message-ID\"]))\r\n        );\r\n\r\n\r\n        setMails(filteredMails); // Set the filtered mails\r\n        setAssignSuccess(true); // Indicate success\r\n      } \r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      setAssignSuccess(false); // Indicate an error occurred\r\n    }\r\n  };\r\n\r\n  const [expandedMailId, setExpandedMailId] = useState(null);\r\n\r\n  const handleToggleDetails = (mailId) => {\r\n    if (expandedMailId === mailId) {\r\n      setExpandedMailId(null);\r\n    } else {\r\n      setExpandedMailId(mailId); // Expand if not expanded\r\n      setSelectedMailId(mailId);\r\n    }\r\n  };\r\n  const options = team.map((member) => ({\r\n    value: member.id,\r\n    label: member.user_name,\r\n  }));\r\n  // console.log(options,'options data');\r\n  const options1 = team.map((member) => ({\r\n    value: member.id, // make sure this is correctly populated\r\n    label: member.user_email, // and this too\r\n  }));\r\n  // console.log(options1,'options 1 data');\r\n\r\n  const customStyles1 = {\r\n    control: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: \"#D9D9D9B2\",\r\n      color: \"#ADADAD\",\r\n    }),\r\n  };\r\n  const customStyles = {\r\n    control: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: \"#E2545E\",\r\n      color: \"white\",\r\n      boxShadow: \"none\",\r\n    }),\r\n    singleValue: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // affects the selected option label\r\n    }),\r\n    placeholder: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // This will change the placeholder text color\r\n    }),\r\n    input: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // This will change the text color as you type in the search input\r\n    }),\r\n    dropdownIndicator: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // Arrow icon color\r\n    }),\r\n   \r\n    noOptionsMessage: (styles) => ({\r\n      ...styles,\r\n      color: \"white\", // No options available message color\r\n    }),\r\n    menu: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: \"#E2545E\", // Dropdown background\r\n    }),\r\n  };\r\n  const [profile, setProfile] = useState(null);\r\n  useEffect(() => {\r\n    const fetchDetail = async () => {\r\n      try {\r\n        const response = await axios.get(`${Helpers.apiUrl}profile`, Helpers.authHeaders);\r\n        if (response.status === 200) {\r\n          // console.log(\"API Response:\", response.data.data.profile);\r\n          setProfile(response.data.data);\r\n        } else {\r\n          // console.log(\"Received non-200 response:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile data:\", error);\r\n      }\r\n    };\r\n    fetchDetail();\r\n  }, []);\r\n\r\n  const toggleFilter = () => {\r\n    if (!isFilterActive) {\r\n      filterAssign(); // Apply the filter\r\n    }\r\n    setIsFilterActive(!isFilterActive); // Toggle the active state of the filter\r\n  };\r\n  const clearDateFilter = () => {\r\n    setStartDate(null);\r\n    setEndDate(null);\r\n    setSearchTerm(\"\");\r\n    setIsFilterActive(false); // Ensure this is reset when filters are cleared\r\n  };\r\n  const clearFilter = () => {\r\n    fetchData(); // Fetch initial data to reset filters\r\n    setIsFilterActive(false); // Reset the filter active state\r\n  };\r\n  const [activeIcon, setActiveIcon] = useState(null);\r\n  // const [sortDirection, setSortDirection] = useState(\"asc\");\r\n\r\n  const handleIconClick = (iconName) => {\r\n    setActiveIcon(activeIcon === iconName ? null : iconName);\r\n  };\r\n\r\n  const toggleSortDirection = () => {\r\n    setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\r\n    handleIconClick(\"sort\");\r\n  };\r\n\r\n  const iconStyle = (iconName) => ({\r\n    fontSize: \"15px\",\r\n    color: activeIcon === iconName ? \"white\" : \"#AEAEAE\",\r\n    cursor: \"pointer\",\r\n    backgroundColor: activeIcon === iconName ? \"#E2545E\" : \"transparent\",\r\n    padding: \"11px\",\r\n    borderRadius: \"5px\",\r\n    border: \"1px solid #DFE2EB\",\r\n    marginLeft: \"8px\",\r\n  });\r\n\r\n   const fetchStores = async () => {\r\n        try {\r\n            const response = await axios.get(`${Helpers.apiUrl}fetch-store`, Helpers.authHeaders);\r\n\r\n            if (response.status === 200) {\r\n                const fetchedStores = response.data.data || [];\r\n                setStores(fetchedStores);\r\n                // Helpers.toast(\"success\", \"Fetch Stores Successfully\");\r\n            } else {\r\n                setStores([]); // Set to empty array on error\r\n            }\r\n        } catch (error) {\r\n            // Helpers.toast(\"error\", \"Error fetching stores. Please try again later.\");\r\n            setStores([]); // Set to empty array on error\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchStores();\r\n    }, []);\r\n\r\n    \r\n  const [editTemplate, setEditTemplate] = useState(false);\r\n  const handleEditTemplate = () => {\r\n    setEditTemplate(!editTemplate);\r\n};\r\n  return (\r\n    <>\r\n      <div className=\"flex text-gray-900 h-[100vh] \">\r\n        <Sidebar />\r\n        <div\r\n          className=\"container \"\r\n          style={{\r\n            borderRadius: \"20px\",\r\n            background: \"#F9F9F9\",\r\n            marginTop: \"2%\",\r\n          }}\r\n        >\r\n          <div className=\"row  mt-5\">\r\n            <div className=\"col-md-4\">\r\n              <div className=\"\">\r\n                <div\r\n                  className=\"col-md-12 w-full p-4   border-gray-200 rounded-lg  sm:p-6  dark:border-gray-700\"\r\n                  style={{ maxHeight: \"100vh\", overflowY: \"auto\" }}\r\n                >\r\n                  <div className=\" d-flex\">\r\n                    <h1 className=\"text-3xl font-bold \">Inbox</h1>\r\n      \r\n           \r\n                    {isGoogle ? (\r\n                      <select\r\n                        id=\"countries\"\r\n                        className=\"bg-gray-50 rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2 dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                        style={{\r\n                          borderRadius: \"50px\",\r\n                          marginLeft: \"3%\",\r\n                          width: \"50%\",\r\n                          background: \"#F0F0F0\",\r\n                          color: \"#C2C2C2\",\r\n                        }}\r\n                        defaultValue={isGoogle.contact} // Use defaultValue or value based on your need\r\n                      >\r\n                        <option value={isGoogle.contact}>{isGoogle.contact}</option>\r\n                      </select>\r\n\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                    {isDateFilterActive ? (\r\n                      <button\r\n                        className=\"btn flex-1 py-2\"\r\n                        style={{\r\n                          background: \"#E2545E\",\r\n                          color: \"white\",\r\n                          marginLeft: \"1rem\",\r\n                        }}\r\n                        onClick={clearDateFilter}\r\n                      >\r\n                        Clear\r\n                      </button>\r\n                    ) : (\r\n                      <div><p></p></div>\r\n                    )}\r\n\r\n                    {assignSuccess ? (\r\n                      <button\r\n                        className=\"btn flex-1 py-2\"\r\n                        style={{\r\n                          background: \"#E2545E\",\r\n                          color: \"white\",\r\n                          marginLeft: \"1rem\",\r\n                        }}\r\n                        onClick={clearFilter}\r\n                      >\r\n                        Clear\r\n                      </button>\r\n                    ) : (\r\n                      <div><p></p></div>\r\n                    )}\r\n                  </div>\r\n                  {userNotFound ? (\r\n                    <div>\r\n                      {/* Uncomment and use the correct login component as needed */}\r\n                      {/* <GoogleLoginComponent onLoginSuccess={handleLoginSuccess} /> */}\r\n                      <GoogleLoginButton onLoginClick={loginWithGoogle} />\r\n                    </div>\r\n                  ) : (\r\n                    mails.length === 0 ? (\r\n                      <Loader style={{ height: '90vh' }} />\r\n                    ) : (\r\n                      <>\r\n                        <div\r\n                          className=\"pt-5 d-flex\"\r\n                          style={{ width: \"100%\", position: \"static\" }}\r\n                        >\r\n                          {/* <div style={{ flex: \"1\" }}>\r\n                            <Select\r\n                              styles={customStyles}\r\n                              options={mails.length === 0 ? [] : options1}\r\n                              placeholder=\"All Users\"\r\n                              onChange={mails.length === 0 ? null : handleMemberChange}\r\n                              isClearable={true}\r\n                              style={{ color: \"white\" }}\r\n                              isSearchable={true}\r\n                            />\r\n                          </div> */}\r\n                          <div\r\n                            className=\"icons flex ml-5\"\r\n                            style={{ flex: \"0 0 auto\" }}\r\n                          >\r\n                            <div onClick={() => handleIconClick(\"calendar\")}>\r\n                              <i\r\n                                className=\"fa-light fa-calendar-range\"\r\n                                style={iconStyle(\"calendar\")}\r\n                                title=\"Calendar\"\r\n                                onClick={toggleInputs}\r\n                              ></i>\r\n                            </div>\r\n                            <div onClick={() => handleIconClick(\"search\")}>\r\n                              <i\r\n                                className=\"fa-light fa-magnifying-glass\"\r\n                                style={iconStyle(\"search\")}\r\n                                title=\"Search\"\r\n                                onClick={toggleSearchInput}\r\n                              ></i>\r\n                            </div>\r\n                            <div onClick={toggleSortDirection}>\r\n                              <i\r\n                                className={`fa-sharp fa-light ${sortDirection === \"asc\" ? \"fa-arrow-up-arrow-down\" : \"fa-arrow-down-arrow-up\"}`}\r\n                                style={iconStyle(\"sort\")}\r\n                                title={`Sort ${sortDirection === \"asc\" ? \"Ascending\" : \"Descending\"}`}\r\n                                onClick={toggleSort}\r\n                              ></i>\r\n                            </div>\r\n                            <div\r\n                              className=\"icon-wrapper rounded p-3 border border-gray-300 ml-2\"\r\n                              style={{\r\n                                cursor: \"pointer\",\r\n                                color: isFilterActive ? \"white\" : \"#AEAEAE\",\r\n                                backgroundColor: isFilterActive ? \"#E2545E\" : \"transparent\",\r\n                              }}\r\n                              title=\"Filter\"\r\n                              onClick={toggleFilter}\r\n                            >\r\n                              <i\r\n                                className=\"fa-light fa-circle-check\"\r\n                                style={{ fontSize: \"15px\" }}\r\n                              ></i>\r\n                            </div>\r\n                            <GoogleLoginComponent  />\r\n                            {/* Uncomment and use the correct login button as needed */}\r\n                            {/* <div\r\n                              className=\"icon-wrapper rounded p-3 border border-gray-300 ml-2\"\r\n                              style={{\r\n                                cursor: \"pointer\",\r\n                              }}\r\n                              title=\"Connect With Gmail\"\r\n                              onClick={loginWithGoogle}\r\n                            >\r\n                              <i\r\n                                className=\"fa-light fa-refresh\"\r\n                                style={{ fontSize: \"15px\", color: \"#AEAEAE\" }}\r\n                              ></i>\r\n                            </div> */}\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-center items-center space-x-4\">\r\n                          {showInputs && (\r\n                            <div\r\n                              className=\"pt-5 d-flex\"\r\n                              style={{ width: \"100%\" }}\r\n                            >\r\n                              <div className=\"flex\" style={{ flex: \"1\" }}>\r\n                                <div\r\n                                  className=\"p-2 flex\"\r\n                                  style={{ flex: \"1\" }}\r\n                                >\r\n                                  <input\r\n                                    type=\"date\"\r\n                                    value={startDate ? startDate.toISOString().substring(0, 10) : \"\"}\r\n                                    onChange={(e) =>\r\n                                      setStartDate(e.target.value ? new Date(e.target.value) : null)\r\n                                    }\r\n                                    placeholder=\"Select start date\"\r\n                                    style={{\r\n                                      padding: \"5%\",\r\n                                      width: \"100%\",\r\n                                      borderRadius: \"30px\",\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                                <div className=\"p-2 flex\" style={{ flex: \"1\" }}>\r\n                                  <input\r\n                                    type=\"date\"\r\n                                    value={endDate ? endDate.toISOString().substring(0, 10) : \"\"}\r\n                                    onChange={(e) =>\r\n                                      setEndDate(e.target.value ? new Date(e.target.value) : null)\r\n                                    }\r\n                                    placeholder=\"Select end date\"\r\n                                    style={{\r\n                                      padding: \"5%\",\r\n                                      width: \"100%\",\r\n                                      borderRadius: \"30px\",\r\n                                    }}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                          {showSearch && (\r\n                            <input\r\n                              type=\"text\"\r\n                              value={searchTerm}\r\n                              onChange={(e) => setSearchTerm(e.target.value)}\r\n                              placeholder=\"Search mails\"\r\n                              className=\"search-input-class\"\r\n                              style={{\r\n                                width: \"100%\",\r\n                                padding: \"2%\",\r\n                                marginTop: \"2%\",\r\n                              }}\r\n                            />\r\n                          )}\r\n                        </div>\r\n                        {filteredMails.length === 0 && !userNotFound ? (\r\n                          <div style={{ padding: \"25%\" }}>\r\n                            <img\r\n                              src=\"/media/no_result_found.png\"\r\n                              alt=\"No results found\"\r\n                            />\r\n                          </div>\r\n                        ) : (\r\n                          filteredMails.map((mail, index) => (\r\n                            <div key={mail.detail.headers?.[\"Message-ID\"] || index}>\r\n                              <ul className=\"my-5 space-y-3 shadow\" style={{ borderRadius: \"50px\" }}>\r\n                                <li\r\n                                  key={mail.detail.id}\r\n                                  className={`rounded-lg ${\r\n                                    mail.detail.headers &&\r\n                                    selectedMailId === mail.detail.headers[\"Message-ID\"]\r\n                                      ? \"selected-outline\"\r\n                                      : \"\"\r\n                                  }`}\r\n                                >\r\n                                  <Link\r\n                                    to={`/user/dashboard/${mail.detail.headers?.[\"Message-ID\"]}`}\r\n                                    className=\"flex items-center p-3 bg-white text-base font-bold text-gray-900 rounded-lg hover:bg-gray-100 group hover:shadow dark:hover:bg-gray-100 dark:text-white\"\r\n                                    onClick={() => handleToggleDetails(mail.detail.headers?.[\"Message-ID\"])}\r\n                                  >\r\n                                    {/* <img\r\n                                      src=\"/media/avatars/300-1.jpg\"\r\n                                      alt=\"\"\r\n                                      className=\"w-12 h-12 rounded-full\"\r\n                                      style={{\r\n                                        width: \"50px\",\r\n                                        height: \"50px\",\r\n                                        borderRadius: \"10px\",\r\n                                      }}\r\n                                    /> */}\r\n                                    <div className=\"flex flex-col flex-grow ms-3\">\r\n                                      <div className=\"flex\">\r\n                                        <span>\r\n                                          {mail.detail.headers?.From ? mail.detail.headers.From.split(\" <\")[0] : \"Unknown Sender\"}\r\n                                        </span>\r\n                                        {assignSuccess ? (\r\n                                          <i\r\n                                            className=\"fa-light fa-circle-check\"\r\n                                            style={{\r\n                                              fontSize: \"15px\",\r\n                                              color: \"green\",\r\n                                              cursor: \"pointer\",\r\n                                              marginLeft: \"3%\",\r\n                                              marginTop: \"0%\",\r\n                                            }}\r\n                                          ></i>\r\n                                        ) : (\r\n                                          \"\"\r\n                                        )}\r\n                                      </div>\r\n                                      <small className=\"text-xs\" style={{ color: \"#C2C2C2\" }}>\r\n                                        {mail.detail.headers?.Date || \"\"}\r\n                                      </small>\r\n                                      <p\r\n                                        className=\"text-xs\"\r\n                                        style={{\r\n                                          color: \"#C2C2C2\",\r\n                                          width: \"100%\",\r\n                                        }}\r\n                                      >\r\n                                        {mail.detail.headers?.Subject || \"No Subject\"}\r\n                                      </p>\r\n                                    </div>\r\n                                    <i\r\n                                      className={`fa-solid ${\r\n                                        expandedMailId === mail.detail.headers?.[\"Message-ID\"]\r\n                                          ? \"fa-caret-up\"\r\n                                          : \"fa-caret-down\"\r\n                                      } ml-auto text-gray-500`}\r\n                                    ></i>\r\n                                  </Link>\r\n                                  {expandedMailId === mail.detail.headers?.[\"Message-ID\"] && (\r\n                                    <div className=\"bg-white p-3 rounded-lg\">\r\n                                      <p className=\"text-xs\">\r\n                                        {\"Message:- \"}\r\n                                        {mail.detail.snippet || \"No snippet available\"}\r\n                                      </p>\r\n                                      <p className=\"text-xs\">\r\n                                        {\"Received:- \"}\r\n                                        {mail.detail.headers?.Date || \"No date available\"}\r\n                                      </p>\r\n                                    </div>\r\n                                  )}\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                          ))\r\n                        )}\r\n                      </>\r\n                    )\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <div\r\n                className=\"card bg-white p-4 border border-gray-200 rounded-lg shadow sm:p-6\"\r\n                style={{ maxHeight: \"90vh\", overflowY: \"auto\" }}\r\n              >\r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    CC\r\n                  </h1>\r\n                  {userNotFound ? (\r\n                    <Select\r\n                      style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                      className=\"basic-single mt-3\"\r\n                      classNamePrefix=\"select\"\r\n                      styles={customStyles1}\r\n                      placeholder=\"Select a team member\"\r\n                      isDisabled={expandedMailId === null ? true : false}\r\n                    />\r\n                  ) : (\r\n                    <Select\r\n                      style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                      className=\"basic-single mt-3\"\r\n                      classNamePrefix=\"select\"\r\n                      defaultValue={options[0]}\r\n                      isClearable={true}\r\n                      isSearchable={true}\r\n                      styles={customStyles1}\r\n                      name=\"teamSelect\"\r\n                      isMulti\r\n                      options={options} // Your options array here\r\n                      onChange={handleAssignChange}\r\n                      placeholder=\"Select a team member\"\r\n                      isDisabled={expandedMailId === null ? true : false}\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Choose Template\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    onChange={handleTemplateChange}\r\n                    value={selectedTemplateId || \"\"}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n\r\n                    <option value=\"\" disabled>Select Template</option>\r\n                    {templates.map((template) => (\r\n                      <option key={template.id} value={template.id}>\r\n                        {template.template_name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n                </div>\r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Location\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    onChange={(e) => handleLocationButton(e.target.value)}\r\n                    value={locationId || \"\"}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n                    <option value=\"\" disabled>Select Location</option>\r\n                    {locations.map((location) => (\r\n                      <option key={location.id} value={location.location}>\r\n                        {location.location}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n\r\n                </div>\r\n                \r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg \">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Stores\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    onChange={(e) => handleStoreButton(e.target.value)}\r\n                    value={storeId || \"\"}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n                    <option value=\"\" disabled>Select Store</option>\r\n                    {stores.map((store) => (\r\n                      <option key={store.id} value={store.name}>\r\n                        {store.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              \r\n                <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\">\r\n                  <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                    Collections\r\n                  </h1>\r\n                  <select\r\n                    className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                    value={selectedCollectionId}\r\n                    onChange={handleSelectionChange}\r\n                    style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    disabled={expandedMailId === null ? true : false}\r\n                  >\r\n                    <option value=\"\">Select a collection</option>\r\n                    {collections.map((collection) => (\r\n                      <option key={collection.id} value={collection.id}>\r\n                        {collection.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                {selectedCollectionId && filteredProducts.length > 0 && (\r\n                  <div className=\"sub-card bg-gray-100 mt-2 p-4 border border-gray-200 rounded-lg\">\r\n                    <h1 className=\"text-xl\" style={{ color: \"#666666\" }}>\r\n                      Model Number\r\n                    </h1>\r\n                    <select\r\n                      className=\"form-select mt-3 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\r\n                      value={selectedProductId}\r\n                      onChange={handleProductChange}\r\n                      style={{ background: \"#D9D9D9B2\", color: \"#ADADAD\" }}\r\n                    >\r\n                      <option value=\"\">Select a model</option>\r\n                      {filteredProducts.map((product) => (\r\n                        <option key={product.id} value={product.id}>\r\n                          {product.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-4 \">\r\n              <div\r\n                className=\"card\"\r\n                style={{ maxHeight: \"90vh\", overflowY: \"auto\" }}\r\n              >\r\n          \r\n                {selectedTemplateId ? (\r\n                  <div className=\"col-md-12 w-full p-2 bg-white border-gray-200 rounded-lg sm:p-6 dark:bg-gray-800 dark:border-gray-700\">\r\n                    <div className=\"card shadow-none\">\r\n                      <div className=\"p-3\">\r\n                        {!editTemplate&&(\r\n                          <p\r\n                            className=\"small text-dark\"\r\n                            style={{ whiteSpace: \"pre-wrap\" }}\r\n                          >\r\n                              <div\r\n                                dangerouslySetInnerHTML={{__html: finalTemplate,}}\r\n                              />\r\n                          </p>\r\n                        )}                          \r\n                        {editTemplate&&(\r\n                            <textarea  \r\n                              value={finalTemplate}\r\n                              onChange={handleFinalTemplateChange}                            \r\n                              style={{ whiteSpace: \"pre-wrap\", width:\"100%\",height:\"80vh\",\r\n                                border:\"1px solid black\",borderRadius:\"10px\",padding:\"5%\" }}\r\n                            />\r\n                          )}\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"flex-end\",\r\n                          marginBottom: \"3%\",\r\n                          marginRight: \"3%\",\r\n                        }}\r\n                      >\r\n                        <form onSubmit={handleEmailSend}>\r\n                          <button\r\n                              type=\"button\"\r\n                              className=\"btn flex-1 py-2\"\r\n                              onClick={handleEditTemplate}\r\n                              style={{\r\n                                background: \"#E2545E\",\r\n                                color: \"white\",\r\n                                marginLeft: \"1rem\",\r\n                              }}\r\n                            >\r\n                              {editTemplate ? \"View\" : \"Edit\"}\r\n                            </button>\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"btn flex-1 py-2\"\r\n                            style={{\r\n                              background: \"#E2545E\",\r\n                              color: \"white\",\r\n                              marginLeft: \"1rem\",\r\n                            }}\r\n                            disabled={sendisLoading}\r\n                          >\r\n                            {sendisLoading ? \"Please Wait...\" : \"Send\"}\r\n                          </button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ padding: \"30%\" }}>\r\n                    <img\r\n                      src=\"/media/result.png\"\r\n                      alt=\"No template selected\"\r\n                      style={{ width: \"100%\" }}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        alignItems: \"center\",\r\n                        textAlign: \"center\",\r\n                        paddingTop: \"8%\",\r\n                        paddingBottom: \"5%\",\r\n                      }}\r\n                    >\r\n                      Please Choose the template\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default  Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}